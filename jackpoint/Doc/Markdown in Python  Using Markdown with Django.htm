<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="keywords" content=" "/>
  <meta name="description" content=" "/>
  <title>Markdown in Python: Using Markdown with Django</title>
  <link type="text/css" rel="stylesheet" href="/cgi-bin/python-markdown.cgi?p=sputnik/style.css" media="all"/>
  
<link rel="shortcut icon" href="/cgi-bin/python-markdown.cgi?p=icons/sputnik.png"/>
  <link rel="alternate" type="application/rss+xml" title="Recent edits to Markdown in Python" href='/projects/python-markdown/history.rss'/>
  <link rel="alternate" type="application/rss+xml" title="Recent edits to Markdown in Python: Using Markdown with Django" href='/projects/python-markdown/Django.rss'/>
  
 </head>
 <body>
  <div id='doc3' class='yui-t0'>

   <div id="login_form" class="popup_form" style="display: none"></div>
   <div id='hd'>
    <div id="login" style="vertical-align: middle;">
     <!--login and search (in the upper right corner) -->
          <form action="/cgi-bin/python-markdown.cgi" class="search">
      <input class="hidden" type="hidden" name="p" value="sputnik/search"/>
      <input class="search_box" type="text" name="q" size="16"
             title="Search query" value=""/>
      <input class="search_button" type="image" src="/cgi-bin/python-markdown.cgi?p=icons/search.png" alt="Button"/>
     </form>
<br/><br/>
     
     <a class="login_link" href='/projects/python-markdown/sputnik/login&amp;next=Django'>Login</a> or <a href='/projects/python-markdown/sputnik/register'>register</a>

   </div>   
   <div id="logo">
    <a class="logo" href="/projects/python-markdown/">
     <img src="/cgi-bin/python-markdown.cgi?p=logo.png" alt="Logo (links to home page)" /> 
    </a>

   </div>
   <div id="menu_bar">
    <ul id='menu' class="level1">
     <li class='front level1' id='Overview'>
      <a title="Overview" href='/projects/python-markdown/'>Overview</a>
      <ul class='front level2'>
       <li class='back level2'><a title="Introduction" href='/projects/python-markdown/'>Introduction</a></li>
       <li class='back level2'><a title="Features" href='/projects/python-markdown/Features'>Features</a></li>
       <li class='back level2'><a title="Credits" href='/projects/python-markdown/Credits'>Credits</a></li>
       <li class='back level2'><a title="License" href='/projects/python-markdown/License'>License</a></li>
       <li class='back level2'><a title="This Wiki" href='/projects/python-markdown/This_Wiki'>This Wiki</a></li>
       <li style="display:none">&nbsp;</li>
      </ul>
     </li>
     <li class='back level1' id='News'>
      <a title="Status" href='/projects/python-markdown/News'>Status</a>
      <ul class='back level2'>       <li class='back level2'><a title="News" href='/projects/python-markdown/News'>News</a></li>       <li class='back level2'><a title="Releases" href='/projects/python-markdown/Releases'>Releases</a></li>       <li class='back level2'><a title="Change Log" href='/projects/python-markdown/Change_Log'>Change Log</a></li>       <li class='back level2'><a title="Recent Wiki Edits" href='/projects/python-markdown/_history'>Recent Wiki Edits</a></li>
       <li style="display:none">&nbsp;</li>
      </ul>
     </li>
     <li class='back level1' id='Installation'>
      <a title="User Guide" href='/projects/python-markdown/Installation'>User Guide</a>
      <ul class='back level2'>       <li class='back level2'><a title="Installation" href='/projects/python-markdown/Installation'>Installation</a></li>       <li class='back level2'><a title="Command Line" href='/projects/python-markdown/Command_Line'>Command Line</a></li>       <li class='back level2'><a title="Using as a Module" href='/projects/python-markdown/Using_as_a_Module'>Using as a Module</a></li>       <li class='back level2'><a title="Integration" href='/projects/python-markdown/Integration'>Integration</a></li>       <li class='back level2'><a title="Reporting Bugs" href='/projects/python-markdown/Reporting_Bugs'>Reporting Bugs</a></li>
       <li style="display:none">&nbsp;</li>
      </ul>
     </li>
     <li class='back level1' id='Mailing_List'>
      <a title="Advanced" href='/projects/python-markdown/Mailing_List'>Advanced</a>
      <ul class='back level2'>       <li class='back level2'><a title="Mailing List" href='/projects/python-markdown/Mailing_List'>Mailing List</a></li>       <li class='back level2'><a title="Source Code" href='/projects/python-markdown/Source_Code'>Source Code</a></li>       <li class='back level2'><a title="Test Suite" href='/projects/python-markdown/Test_Suite'>Test Suite</a></li>
       <li style="display:none">&nbsp;</li>
      </ul>
     </li>
     <li class='back level1' id='Extensions'>
      <a title="Extensions" href='/projects/python-markdown/Extensions'>Extensions</a>
      <ul class='back level2'>       <li class='back level2'><a title="Extensions" href='/projects/python-markdown/Extensions'>Extensions</a></li>       <li class='back level2'><a title="Writing Extensions" href='/projects/python-markdown/Writing_Extensions'>Writing Extensions</a></li>       <li class='back level2'><a title="Available Extensions" href='/projects/python-markdown/Available_Extensions'>Available Extensions</a></li>       <li class='back level2'><a title="Related Projects" href='/projects/python-markdown/Related_Projects'>Related Projects</a></li>
       <li style="display:none">&nbsp;</li>
      </ul>
     </li>
    </ul>
<!--br/><br/-->
   </div>

   </div>
   <div id='bd'>
    <div id="yui-main" >
     <div class="yui-b" id='page'>
      <div id="breadcrumbs">
       <ul>
       
        <li class="first"><a href='/projects/python-markdown/Django'>Django</a></li>
       </ul>
       <span class="toolbar">
        
         <a href='/projects/python-markdown/Django.edit' title="Edit"><img src="/cgi-bin/python-markdown.cgi?p=icons/edit.png" alt="Button"/></a>
         
        
         <a href='/projects/python-markdown/Django.history' title="History"><img src="/cgi-bin/python-markdown.cgi?p=icons/history.png" alt="Button"/></a>
         
        
         <a href='/projects/python-markdown/Django.rss' title="RSS for edits to this node"><img src="/cgi-bin/python-markdown.cgi?p=icons/rss.png" alt="Button"/></a>
         
        
       </span>
      </div>
      <div class="title">
       <a name="title" title="Current page" href='/projects/python-markdown/Django' >Using Markdown with Django</a> 
      </div>
      <div class='content'>
        



<h3>The Basics</h3>
<p>Markdown support is already implemented in <a href="http://djangoproject.com">Django</a> via the <a href="http://www.djangoproject.com/documentation/add_ons/#markup">markup</a> add-on. You simply need to make the markdown module available on the system and tell Django to use it.</p>

<p><a href="/projects/python-markdown/Installation">Install markdown</a> and make sure it is in your python path.
Include <code>'django.contrib.markup'</code> in INSTALLED_APPS in your settings.py file.</p>

<p>You will then need to load the markup module in a template:</p>

<pre><code>{% load markup %}
</code></pre>

<p>After that, you should be able to use the <code>markdown</code> filter in that template
 by putting "|markdown" after a variable, e.g.:</p>

<pre><code>{{ post.body|markdown }}
</code></pre>

<h3>Advanced Options</h3>

<p>To load <a href="/projects/python-markdown/Extensions">extensions</a>, list them in quotes separated by comas:</p>

<pre><code>{{ post.body|markdown:"wikilinks,footnotes" }}
</code></pre>

<p>If you want to disable HTML, include "safe" as the <em>first</em> argument:</p>

<pre><code>{{ post.body|markdown:"safe" }}
</code></pre>


<h3>Other Options</h3>

<p>Of course, Python-Markdown can be integrated in Django in other ways besides 
Django's template system. Various solutions have been suggested around the net. Here 
are a few we know about:</p>

<ul>
    <li><a href="http://code.google.com/p/django-template-utils/wiki/GenericMarkup">django-template-utils</a></li>
    <li><a href="http://www.djangosnippets.org/tags/markdown/">http://www.djangosnippets.org/tags/markdown/</a></li>
    <li><a href="http://www.omh.cc/2008/aug/18/django-inserting-and-positioning-images/">Django: Inserting and Positioning Images</a> - see comments for more.</li>
    <li><a href="http://www.google.com/search?q=django+markdown">Google search</a></li>
</ul>

<h3>Known Issues</h3>

<ul>
    <li>Extension and safe_mode support were only added to Django on Dec. 2, 2007. If you are using an earlier version of Django (including the official releases <em>0.90</em>, <em>0.91</em>, <em>0.95</em>, and <em>0.96</em>), please see below.</li>
</ul>

<h3>Adding Extension Support to Older Django Versions</h3>

<p><strong>Note</strong>: The code below is recommended for the Django official releases <em>0.90</em>, <em>0.91</em>, <em>0.95</em>, and <em>0.96</em>. If you are running a later version it is recommended that you use the more up-to-date code in Django tickets <a href="http://code.djangoproject.com/ticket/2910">#2910</a> and <a href="http://code.djangoproject.com/ticket/6387">#6387</a> which supports more recent changes to both Django and Python-Markdown. Ticket #2910 has since been committed in Django changeset <a href="http://code.djangoproject.com/changeset/6834">[6834]</a> (on Dec. 2, 2007) and ticket #6387 in changeset <a href="http://code.djangoproject.com/changeset/7423">[7423]</a> (on April 14, 2008) so Markdown's extension and unicode support are now fully built into Django itself. Therefore, if you are running Django trunk (or 1.0 or later), you may ignore this section.</p>

<hr></hr>

<p>If you want to add extension and safe_mode support to older versions of Django
(<em>0.90</em>, <em>0.91</em>, <em>0.95</em>, and <em>0.96</em>), you will need to make some changes to the
<code>markdown</code> template tag. It is recommended that you copy the contents of 
'django/contrib/markup/' to a directory <code>markup</code> in your project or another 
appropriate location on your path. Then edit this localized copy of 
'markup/templatetags/markup.py` replacing the definition of the markdown() function
with the following:</p>

<pre><code>def markdown(value, arg=''):

    try:
        import markdown
    except ImportError:
        if settings.DEBUG:
            raise (template.TemplateSyntaxError, 
                   "Error in {% markdown %} filter: " 
                   + "The markdown library isn't installed.")
        else :
            from django.utils.html import escape, linebreaks
            return linebreaks(escape(value))
    else:
        extensions=arg.split(",")
        if len(extensions) &gt; 0 and extensions[0] == "safe" :
            extensions = extensions[1:]
            safe_mode = True
        else :
            safe_mode = False
        return markdown.markdown(value, extensions, safe_mode=safe_mode)
</code></pre>

<p>You will then need to change <code>'django.contrib.markup'</code>  to <code>'markup'</code> in INSTALLED_APPS in your settings.py file. (You could just edit the file in <code>django/contrib/markup/templatetags/markup.py</code> directly, but your changes will likely be lost when upgrading and such a practice is <em>not</em> recommended by the Django team.)</p>

<p>You should then be able to load extensions as described above.</p>

      </div>

     </div>
    </div>
    <div class="yui-b" id="sidebar">

    </div>    
   </div>  <!--#bd-->
   <div id='ft'>
    Powered by <a href='http://spu.tnik.org/'>Sputnik</a> | <a style="font-size: .7em" href="http://validator.w3.org/check?uri=referer">XHTML 1.1</a>
   </div>
  </div> <!--#docN-->
  <br/>


  <script type="text/javascript" src="/cgi-bin/python-markdown.cgi?p=sputnik/scripts.js"></script>
   
  
 </body>
</html>
