'use strict';(function(d){function b(){this._events={};this._maxListeners=10}function a(g,a,f,b,d){this.type=g;this.listener=a;this.scope=f;this.once=b;this.instance=d}a.prototype.fire=function(g){this.listener.apply(this.scope||this.instance,g);if(this.once)return this.instance.removeListener(this.type,this.listener,this.scope),!1};b.prototype.eachListener=function(g,a){var f=null,b=null,d=null;if(this._events.hasOwnProperty(g)){b=this._events[g];for(f=0;f<b.length;f+=1)if(d=a.call(this,b[f],f),
!1===d)f-=1;else if(!0===d)break}return this};b.prototype.addListener=function(g,b,f,d){this._events.hasOwnProperty(g)||(this._events[g]=[]);this._events[g].push(new a(g,b,f,d,this));this.emit("newListener",g,b,f,d);this._maxListeners&&!this._events[g].warned&&this._events[g].length>this._maxListeners&&("undefined"!==typeof console&&console.warn("Possible EventEmitter memory leak detected. "+this._events[g].length+" listeners added. Use emitter.setMaxListeners() to increase limit."),this._events[g].warned=
!0);return this};b.prototype.on=b.prototype.addListener;b.prototype.once=function(a,b,f){return this.addListener(a,b,f,!0)};b.prototype.removeListener=function(a,b,f){this.eachListener(a,function(d,l){d.listener===b&&(!f||d.scope===f)&&this._events[a].splice(l,1)});this._events[a]&&0===this._events[a].length&&delete this._events[a];return this};b.prototype.off=b.prototype.removeListener;b.prototype.removeAllListeners=function(a){a&&this._events.hasOwnProperty(a)?delete this._events[a]:a||(this._events=
{});return this};b.prototype.listeners=function(a){if(this._events.hasOwnProperty(a)){var b=[];this.eachListener(a,function(f){b.push(f.listener)});return b}return[]};b.prototype.emit=function(a){for(var b=[],f=null,f=1;f<arguments.length;f+=1)b.push(arguments[f]);this.eachListener(a,function(a){return a.fire(b)});return this};b.prototype.setMaxListeners=function(a){this._maxListeners=a;return this};"function"===typeof define&&define.amd?define(function(){return b}):d.EventEmitter=b})(this);
StackExchange.realtime=function(){function d(c){StackExchange.options.user.isDeveloper&&console.log(c)}function b(){s.on("hb",function(c){m.send(c)})}function a(c){p?(d("sending: "+c),m.send(c)):n.push(c)}function g(c,e){1!=$("#vote-accepted-"+c.answerid).length&&($(".vote-accepted-on").remove(),e||$('.vote input[value="'+c.answerid+'"]').parent().append('<span class="vote-accepted-on" title="The question owner accepted this as the best answer">accepted</span>'))}function h(){$("#new-post-activity").remove();
$("#answers-header").prepend(q)}function f(c,e){return c.index<e.index?-1:c.index>e.index?1:0}function i(){$("#new-post-activity").remove();var c=e.sort(f),a;for(a in c){var b=c[a];$("#question-summary-"+b.id).remove();$(b.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}l(0);null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,r);"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);e=[]}function l(c){var e=document.title.replace(/^\(\d*\*?\) /,
"");0<c&&(e="("+c+") "+e);window.setTimeout(function(){$(document).attr("title",e)},200)}var k,m,e=[],c=[],j=0,n=[],p=!1,r,s=new EventEmitter,q=function(){var e=Object.keys(c).length;return $('<div id="new-post-activity">'+e+" new answer"+(1<e?"s":"")+" to this question</div>").click(function(){StackExchange.realtime.expandAnswers()})},t=function(){var c=Object.keys(e).length;l(c);return $('<div id="new-post-activity">'+c+" question"+(1<c?"s":"")+" with new activity</div>").click(function(){StackExchange.realtime.expandActiveQuestions()})};
return{init:function(c){k=c;if("WebSocket"in window||"MozWebSocket"in window){if(m)try{d("closing WebSocket"),m.close()}catch(e){}m||(d("opening WebSocket"),m="WebSocket"in window?new WebSocket(k):new MozWebSocket(k),m.onopen=function(){if(!p){p=!0;for(var c=0,e=n.length;c<e;c++)d("sending: "+n[c]),m.send(n[c]);n=[]}d("WebSocket opened");b()},m.onmessage=function(c){c=$.parseJSON(c.data);s.emit(c.action,c.data)},m.onclose=function(){m=null;d("WebSocket closed");5>j&&(j++,d("reconnect attempt:"+j),
setTimeout('StackExchange.realtime.init("'+k+'")',500))},m.onerror=function(){d("WebSocket failed");m=null})}},expandActiveQuestions:i,expandAnswers:function(){var e=$("#answers #answers-header .answers-subheader h2"),a=parseInt(e.text().match(/^\d*\*?/))+c.length;isNaN(a)&&(a=c.length);e.text(a+" Answer"+(1<a?"s":""));$("#new-post-activity").remove();var f=$("#answers #answers-header");$.each(c,function(c,e){$.get("/posts/"+e+"/ajax-load-mini",function(c){c=$(c);c.insertAfter(f).hide().fadeIn(400,
function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub])});StackExchange.comments.init({post:c});StackExchange.vote.init(e)})});StackExchange.vote||StackExchange.question.bindAnonymousVoteDisclaimers();f.find("a[id^='link-post-']").click(function(c){if(!c.ctrlKey&&!c.metaKey)return StackExchange.question.showShareTip($(this),options.showCitation),!1});StackExchange.question.bindSuggestedEditPopupLinks();StackExchange.question.canViewVoteCounts&&StackExchange.vote.bindFetchVoteCounts();
StackExchange.question.initShareLinks();"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);c=[]},subscribeToActiveQuestions:function(c,f,b,j,d){c=c+"-"+f;r=b;a(c);s.on(c,function(c){c=$.parseJSON(c);if(null!=d)for(var a=0;a<d.length;a++)if(-1==$.inArray(d[a],c.tags))return;null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(c.body)||(e[c.id]={id:c.id,body:c.body,index:(new Date).getTime()},$("#new-post-activity").remove(),$("#question-mini-list, #questions").prepend(t),
j&&i())})},subscribeToInboxNotifications:function(){if(null!=StackExchange.options.user.accountId){var c=StackExchange.options.user.accountId+"-inbox";a(c);s.on(c,function(c){$(".unreadCount").remove();var e=$('<a class="unreadCount" title="unread messages in your inbox">'+c+"</a>").insertAfter(".genu");$("#portalLink .unreadCount").css({marginTop:e.css("margin-top"),opacity:1},2E3);genuwine.setUnreadCount(c)})}},subscribeToQuestion:function(e,f){var b=e+"-question-"+f;a(b);s.on(b,function(e){e=$.parseJSON(e);
switch(e.a){case "score":var a=$('.vote input[value="'+e.id+'"]').siblings(".vote-count-post");a.text()!=e.score&&(a.text(e.score),0==$(":animated").length&&a.fadeTo("fast",0.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts());break;case "comment-add":0==$("#comment-"+e.commentid).length&&(e=$("#comments-link-"+e.id),a=e.data("comments-count")||0,a++,e.data("comments-count",a),e.html("add / show <b>"+a+"</b> more comment"+(1<a?"s":"")).show().fadeTo("fast",
0.7).fadeTo("fast",1));break;case "answer-add":0==$("#answer-"+e.answerid).length&&(c.push(e.answerid),StackExchange.cardiologist.isHeartBeating()?StackExchange.helpers.DelayedReaction(h,5E3).trigger():h(),StackExchange.cardiologist.notifiedOfNewAnswer());break;case "accept":g(e);break;case "unaccept":g(e,!0)}})},subscribeToReputationNotifications:function(c){null!=StackExchange.options.user.accountId&&(c=c+"-"+StackExchange.options.user.userId+"-reputation",a(c),s.on(c,function(c){var e=$("#hlinks .reputation-score");
e.text()!=c.score&&(0==$(":animated").length&&e.fadeTo("fast",0.8).fadeTo("fast",1),e.text(c))}))}}}();"use strict";StackExchange.anonymous={};
var gauth=function(){return{informStackAuth:function(d){if(gauth.enabled()){var b=document.domain;"meta."==b.substr(0,5)&&(b=b.substr(4,b.length-4));var a=$.cookie("gauth");if(null==a)$.cookie("gauth",null,{path:"/",domain:b}),$.cookie("gauth",null,{path:"/",domain:document.domain});else{"."!=b.charAt(0)&&(b="."+b);$.cookie("gauth",null,{path:"/",domain:b});$.cookie("gauth",null,{path:"/",domain:document.domain});var g=a.indexOf(":"),b=a.substr(0,g),a=a.substr(g+1),h=d+"/auth/global/write?authToken="+
encodeURIComponent(b)+"&nonce="+encodeURIComponent(a);$(document).ready(function(){$("#footer").append("<iframe style='display:none' src='"+h+"'></iframe>")})}}},checkStackAuth:function(d){if(gauth.enabled()&&null==$.cookie("gauthed")){$.cookie("gauthed","1",{path:"/"});var b=function(a){if(a.origin==d)if("No Local Storage"==a.data)gauth.noGAuthStorage();else if("No Session"==a.data)gauth.noGAuthSession();else{var b=a.data.substr(0,a.data.indexOf(",")),a=a.data.substr(a.data.indexOf(",")+1);$.post("/users/login/global",
{authToken:b,nonce:a},function(a){gauth.globallyAuthed(a)},"json")}};window.attachEvent?window.attachEvent("onmessage",b):window.addEventListener("message",b,!1);$.post("/users/login/global/request","",function(a){var b=d+"/auth/global/read?request="+encodeURIComponent(a.token)+"&nonce="+encodeURIComponent(a.nonce);$(document).ready(function(){$("#footer").append("<iframe id='global-auth-frame' style='display:none' src='"+b+"'></iframe>")})},"json")}},enabled:function(){$.cookie("enabledCheck","1");
if(null==$.cookie("enabledCheck"))return!1;$.cookie("enabledCheck",null);return"undefined"==typeof localStorage?!1:!0},noGAuthStorage:function(){},noGAuthSession:function(){},globallyAuthed:function(d){if(d&&d.Message){var d=d.Message+" ",b,a=!1,g=""+window.location,h=g.indexOf("returnurl=");if(-1!=h){var f=g.indexOf("&",h);-1==f&&(f=g.length);b=decodeURIComponent(g.substring(h+10,f));b=/^(?:http:\/\/|\/)/.test(b)?b.replace(/[^-a-z0-9+&@#\/%?=~_|!:,.;()]/g,""):null}-1!=g.indexOf("/users/login")&&
(a=!0,b=b||"/");StackExchange.helpers.showFancyOverlay({message:a?d+"<br>You are being redirected...":d+(b?"<a href=\"javascript:window.location='"+b+"'\">Click here</a> to return to your last location.":'<a href="javascript:location.reload(true)">Click here</a> to refresh the page.'),showClose:!a,complete:function(){a&&(window.location=b)}})}}}}(),genuwine=function(){var d,b="",a,g,h=function(){return $(".genu").hasClass("genu-on")},f=function(){var c=$(".genu"),f=$("#seWrapper");if(0==f.length){i();
var f=$("#seWrapper"),b;0<a?(b=$("#seTabInbox"),p(b)):g?(b=$("#seTabNotices"),l(b)):(b=$("#seTabHot"),e(b));b.addClass("seCurrent")}(b=c.hasClass("genu-on"))?($(".unreadCountTab").hide(),$(".itemBoxNew").removeClass("itemBoxNew"),f.fadeOut("fast")):(f.fadeIn("fast"),$(".unreadCount").hide());c.toggleClass("genu-on",!b);-1==a&&$(c).ready(function(){$("#seTabInbox").hide()})},i=function(){var a='<div id="seWrapper" style="position:absolute; display:none;"><div class="seIntro"><a href="'+b+'">Stack Exchange</a> is a network of free, community-driven Q&A sites.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">Hot Questions</a></li><li><a id="seTabSites">All Sites</a></li><li><a id="seTabInbox">Inbox</a></li>'+
(StackExchange.options.user.isDeveloper?'<li><a id="seTabNotices">Notices</a></li>':"")+'</ul></div><div class="seContainer"></div><div class="seFooter"><div id="seTabEmail" class="seEmailAccount"><a>email settings</a></div><a id="seClose">close</a></div></div>',o=$("#hlinks"),o=o.height()+o.offset().top+5;$(a).appendTo("#portalLink").css({top:o}).find("ul.seNavLinks a, #seTabEmail").click(function(){var a=$(this);$(".seNavLinks a").removeClass("seCurrent");a.addClass("seCurrent");switch(a.attr("id")){case "seTabHot":e(a);
$("#seContainerSites, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerHot").fadeIn("fast");break;case "seTabSites":0==$("#seContainerSites").length&&m(a);$("#seContainerHot, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerSites").fadeIn("fast");break;case "seTabInbox":p(a);$("#seContainerHot, #seContainerSites, #seContainerEmail, #seContainerNotices").hide();$("#seContainerInbox").fadeIn("fast");break;case "seTabEmail":0==$("#seContainerEmail").length&&
c(a);$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerNotices").hide();$("#seContainerEmail").fadeIn("fast");break;case "seTabNotices":l(a),$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerEmail").hide(),$("#seContainerNotices").fadeIn("fast")}});$("#seClose").live("click",f)},l=function(c){0==$("#seContainerNotices").length&&q(c,"/notices/genuwine?userId="+StackExchange.options.user.id,"jsonp",k,!0)},k=function(c,e){for(var a='<div id="seContainerNotices" style="display:none">',
f=0;f<e.length;f++)var b=e[f],a=a+('<div class="noticeBox'+(b.is_unread?" itemBoxNew":"")+'"><div><p>'+b.text+"</p></div></div>");t(c,a+"</div>")},m=function(c){q(c,b+"/genuwine/sites?callback=?&host="+document.location.host+(d?"&accountId="+d:""),"jsonp",n)},e=function(c){0==$("#seContainerHot").length&&q(c,b+"/genuwine?callback=?","jsonp",j)},c=function(c){q(c,"/accounts/email-settings","json",function(c,e){function a(){$("#email-save").removeAttr("disabled");$("#email-confirmation").html("")}t(c,
'<div id="seContainerEmail" style="display:none; font-size:11px;"><div class="itemBox" style="border-bottom: 0px"><p>Would you like to receive unread inbox notifications via email?</p><div>Email: <input id="email-notify" name="email-notify" style="width:300px;" value="'+e.verifiedEmail+'"></input></div><div><input type="radio" name="optIn" value="true" id="email-enable"'+(!0==e.optIn?'checked="checked"':"")+'"> <label for="email-enable">Email me my unread inbox messages </label> <select id="email-freq"><option value="3">every 3 hours</option><option value="24">daily</option><option value="168">weekly</option></select> </div><div><input type="radio" name="optIn" value="false" id="email-disable"'+
(!0!=e.optIn?'checked="checked"':"")+'"> <label for="email-disable">Do not email me inbox messages</label></input></div><div><input type="button" name="save" id="email-save" value="Save" disabled="disabled"></input></div><div id="email-confirmation" style="display:none;"></div></div></div>');$("#email-freq").val(e.freq).on("click focus",function(){$("#email-enable").prop("checked",!0)});$("#email-notify").focus().keyup(a);$("#email-enable, #email-disable, #email-freq").change(a);$("#email-save").click(function(){u();
$.post("/accounts/verified-email-set",{email:$("#email-notify").val(),fkey:StackExchange.options.user.fkey,optin:$("input[name=optIn]:checked").val(),freq:$("#email-freq").val()},function(c){StackExchange.helpers.removeSpinner();$("#email-confirmation").html(c.message).fadeIn();c.success&&$("#email-save").attr("disabled","disabled")},"json")})},!0)},j=function(c,e){for(var a=$("<div/>"),f='<div id="seContainerHot" style="display:none">',b=0;b<e.length;b++)var o=e[b],j=o.SiteId,d='href="http://'+j+
"/q/"+o.Id+'?hq=1"',k=parseInt(o.DisplayScore,10),f=f+('<div class="itemBox"><a '+d+' class="seNumAnswer">'+k+'</a><div class="siteInfo"><p><a '+d+">"+a.text(o.Title).html()+'</a></p><a href="http://'+j+'" class="siteLink">'+j+"</a></div></div>");t(c,f+"</div>")},m=function(c){q(c,b+"/genuwine/sites?callback=?&host="+document.location.host+(d?"&accountId="+d:""),"jsonp",n)},n=function(c,e){for(var a='<div id="seContainerSites" style="display:none">',f=0;f<e.length;f++)var b=e[f],o=b.Name,j='href="http://'+
b.Id+'?as=1"',a=a+('<div class="itemBox"><a '+j+' class="siteFavicon"><img src="'+b.FaviconUrl+'" alt="'+o+'"></a><div class="siteInfo"><p><a '+j+">"+o+"</a></p><a "+j+' class="siteLink">'+b.Description+"</a></div></div>");t(c,a+"</div>")},p=function(c){-1!=a&&(0==$("#seContainerInbox").length&&q(c,"/inbox/genuwine","json",r,!0),0<a&&0==c.find(".unreadCountTab").length&&c.prepend('<span class="unreadCountTab">'+a+"</span>"))},r=function(c,e){for(var a='<div id="seContainerInbox" style="display:none">',
f=0;f<e.length;f++){var b=e[f],o='href="'+b.Url+'"',j='title="'+b.CreationDate+'"',k=b.Count,a=a+('<div class="itemBox'+(b.IsNew?" itemBoxNew":"")+'"><a '+o+' class="siteLinkFavicon"><img src="'+b.FaviconUrl+'" alt="'+b.SiteUrl+'"></a><div class="siteInfo">');"careers message"==b.Type?a+="<p><a "+o+' style="font-weight:normal"><b>'+b.Title+"</b> wants to contact you on <b>Stack Overflow Careers</b></a></p>":"invitation"==b.Type?(j=b.Count,a+="<p><a "+o+' style="font-weight:normal"><b>'+j+"</b> "+
("invitation"+(1<j?"s":""))+" awarded on <b>Stack Overflow Careers</b></a></p>"):a+="<p>"+(1<k?k+" ":"")+b.Type+" on <a "+o+" "+j+">"+b.Title+"</a></p>";a+='<p class="inboxSummary">'+(b.Summary||"")+"</p></div></div>"}d&&5<=e.length&&(a+='<div class="itemMoreContainer"><div class="seIntro"><a href="http://stackexchange.com/users/'+d+'?tab=inbox">more inbox messages &hellip;</a></div></div>');t(c,a+"</div>")},s={},q=function(c,e,a,b,f){var o=c.attr("id");if(s[o])u();else{s[o]=!0;u();var j=function(){s[o]=
!1;StackExchange.helpers.showErrorPopup($(".seContainer"),"An error occurred while loading - please try again.")};$.ajax({type:"GET",url:e,dataType:a,success:function(e){e&&(0<e.length||f)?b(c,e):j()},error:j,complete:StackExchange.helpers.removeSpinner()})}},t=function(c,e){var a=$(e);a.appendTo(".seContainer");c.hasClass("seCurrent")&&a.fadeIn("fast")},u=function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.addSpinner(".seContainer",{position:"relative",left:"10px",top:"10px"})},
o=function(){var c=$("#portalLink .unreadCount"),e=c.css("margin-top");c.css({marginTop:-20,opacity:0}).show().animate({marginTop:e,opacity:1},2E3)},v=function(){!(0<a)&&StackExchange.options.user.isDeveloper&&(g=!0,$("#portalLink .unreadCount").text("\u25cf").addClass("newNotices").click(function(){$(".genu").click()}).show())};return{isVisible:h,click:f,setUnreadCount:function(c){a=c;0<c?($("#portalLink .unreadCount").text(a).click(function(){$(".genu").click()}).show(),o()):$("#portalLink .unreadCount").text("").hide();
$("#portalLink .unreadCount").removeClass("newNotices")},animateInbox:o,init:function(c,e,o){var j=$(".genu");1<=j.length&&(j[0].onclick=null);d=c;b=j.attr("href");a=e;o&&v();j.removeAttr("href").add(".unreadCount").click(f);$(document).click(function(c){h()&&!$.contains($("#portalLink")[0],c.target)&&f()})}}}();
StackExchange.notify=function(){function d(a,b){var e=$("#dismissed-messages");e.val(e.val()+"~"+a+(b?" "+b:"")+"~")}function b(a,b){var e=$("#dismissed-messages").val();return!e?!1:RegExp("~"+a+(b?" "+b:"")+"~").test(e)}function a(a,b,e){var c=parseInt($("body").css("margin-top").match(/\d+/)),a=b*c/a;e?$("body:not(.no-message-slide)").animate({marginTop:a+"px"},"fast","linear"):$("body:not(.no-message-slide)").css("marginTop",a+"px")}var g=0,h=function(b,f){var e=$("#notify-"+b+(f?"-"+f:""));-1==
b?$.cookie("m","0",{expires:90,path:"/"}):-1<b&&$.post("/messages/mark-as-read",{messagetypeid:b,id:f?f:null});d(b,f);g--;e.fadeOut("fast",function(){a(g+1,g,!0);e.remove()})},f=function(a){if(StackExchange.options.user.isDeveloper)return!0;g++;if(b(a.messageTypeId,a.id))return!1;var f="";a.messageTypeId&&(f=' id="notify-'+a.messageTypeId+(a.id?"-"+a.id:"")+'"');f="<div"+f+' style="display:none"><span class="notify-close"><a title="dismiss this notification">&times;</a></span><span class="notify-text">'+
a.text+"</span>";if(a.showProfile)var e=encodeURIComponent("/users/"+a.userId+"?tab=activity"),f=f+(' See your <a href="/messages/mark-as-read?messagetypeid='+a.messageTypeId+"&returnurl="+e+'">profile</a>.');f=$(f+"</div>");f.find(".notify-close").click(function(){a.close&&a.close();h(a.messageTypeId,a.id)});$("#notify-container").append(f);return!0},i=function(){$("#notify-container div").fadeIn("slow")},l=function(a,b){var e=$('<div class="link-more"><a>view '+a+" more notification"+(1!=a?"s":
"")+"</a></div>");$("#notify-container").append(e);e.click(function(){e.detach();for(var c=0;c<b.length;c++)f(b[c]);i()})};return{showMessages:function(b,d){for(var e=0,c=d?2:b.length,j=0;j<c&&j<b.length;j++)f(b[j])&&e++;a(g,e,!1);i();d&&e<b.length&&(c=b.slice(c),l(b.length-e,c))},show:function(a,b){$("body:not(.no-message-slide)").animate({marginTop:"2.5em"},"fast","linear");f({text:a,messageTypeId:b});i()},close:h,getMessageText:function(a){return $("#notify-"+a+" .notify-text").text()}}}();
function moveScroller(){var d=$("#scroller").width(),b=function(){var a=$(window).scrollTop(),b=$("#scroller-anchor").offset().top,h=$("#scroller");a>b?h.height()>$(window).height()?h.css({position:"fixed",top:"",bottom:"0px",width:d}):h.css({position:"fixed",top:"0px",bottom:"",width:d}):a<=b&&h.css({position:"relative",top:"",bottom:""})};$(window).scroll(b).resize(b);b()}
var styleCode=function(){return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);var d=!1;$("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),d=!0);var b;if(b=!$(this).hasClass("prettyprint")){b=$(this);var a=$("#prettify-lang").text();""!=a?(b.addClass(a),b=!0):b=!1}b&&($(this).addClass("prettyprint"),d=!0)});d&&("undefined"!=typeof jtab?jtab.renderimplicit():StackExchange.using("prettify",
function(){StackExchange.prettify.applyCodeStyling()}))}}();
StackExchange.helpers.MagicPopup=function(d){function b(b,f){var e=$("<div id='"+d.id+"'/>").html(f),c=$("<div />").css({overflow:"hidden",position:"absolute",width:1,height:1,top:0,left:0}).append(e).appendTo("body"),j=d.showing(b,e),g={left:j.left};j.hasOwnProperty("bottom")?(g.bottom=j.bottom,g.top="auto"):g.top=j.top;var i;d.shown&&(i=function(){d.shown(b,e)});c.css(g).animate({height:e.outerHeight()+8,width:e.outerWidth()+8},300,i);a=function(){c.stop().remove();d.removed&&d.removed(b,e);a=h=
null};h=StackExchange.helpers.DelayedReaction(a,5);g=c;j.additional&&(g=g.add(j.additional));g.hover(h.cancel,h.trigger)}var a,g,h,f,i={},l=StackExchange.helpers.DelayedReaction(function(g,h){if(!f&&g){var e;d.cache&&"c_"+g in i?e=$.Deferred().resolve(i["c_"+g]):(e=$.ajax({type:"GET",url:g,dataType:"html"}),d.cache&&e.done(function(c){i["c_"+g]=c}));e.done(function(c){a&&a();""!=c&&b(h,c)})}},500);$(document).delegate(d.selector,{mouseenter:function(){if(h&&this===g)h.cancel();else return g=this,
l.trigger(d.getUrl(this),this),f=!1},mouseleave:function(){f=!0;l.cancel();h&&h.trigger()}})};
StackExchange.tagmenu=function(){function d(a){var a=$(a),b=a.attr("href");if(!b||"/"!=b.charAt(0))return null;b=a.text();if(-1<b.indexOf("*"))return null;a.attr("title","");return"/tags/"+encodeURIComponent(b)+"/subscriber-info"}function b(a,b){var d=$(a),g=d.offset(),k=d.outerHeight(),d={left:g.left},m=g.top+k,k=g.left+b.outerWidth();b.height()+m>$(window).height()+$(window).scrollTop()?d.bottom=$(window).height()-g.top-8:d.top=m;g=Math.max(1024,$(window).width());k>g&&(d.left-=k-g);return d}var a,
g;return{init:function(h){a=h;g||(g=!0,StackExchange.options.isMobile||(StackExchange.helpers.MagicPopup({selector:".post-tag:not(.user-tag)",id:"tag-menu",getUrl:d,showing:b,shown:function(b,d){a&&a(d,$(b).text())}}),$("#interesting-tags .post-tag").addClass("user-tag")))}}}();
StackExchange.usermenu=function(){function d(a,b){var d=$(a).find("img:first"),l=d.offset(),k=d.height(),m=d.width(),e=Math.max(m,k),c=64*k/e,e=64*m/e,j=b.find("img:first").css({width:e,height:c}),n=j.offset();j.css("visibility","hidden");g=d.clone().css({position:"absolute",zIndex:300,left:l.left,top:l.top,width:m,height:k}).appendTo("body");var p=function(){j[0].complete?(j.css("visibility","visible"),g.fadeOutAndRemove()):setTimeout(p,500)};g.animate({width:e,height:c,top:l.top+n.top},200,p);return{top:l.top,
left:l.left-n.left,additional:g}}function b(){g.remove()}var a,g;return{init:function(){a||(a=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({selector:".user-hover .user-gravatar48, .user-hover .user-gravatar32",getUrl:function(a){a=/\/users\/([^/]+).*$/.exec($(a).closest(".user-hover").find(".user-details a").attr("href"));return!a?null:"/users/user-info/"+a[1]},cache:!0,id:"user-menu",showing:d,removed:b}))}}}();
StackExchange.chatAd=function(){function d(){var c=$(".question .post-taglist .post-tag");return!c.length?null:c.map(function(c,a){return $(a).text()}).get().join(" ")}function b(c){return 10>c?"0"+c:c}function a(c){var a=new Date;a.setTime(1E3*c);return[a.getUTCFullYear(),"-",b(a.getUTCMonth()+1),"-",b(a.getUTCDate())," ",b(a.getUTCHours()),":",b(a.getUTCMinutes()),":",b(a.getUTCSeconds()),"Z"].join("")}function g(c){var a=Math.floor((new Date).getTime()/1E3)-c,e=a%60,f=Math.floor(a/60),d=Math.floor(a/
3600);if(1>a)return"just now";if(60>a)return 1==e?"1 sec ago":e+" secs ago";if(3600>a)return 1==f?"1 min ago":f+" mins ago";if(86400>a)return 1==d?"1 hour ago":d+" hours ago";a=Math.floor(a/86400);if(1==a)return"yesterday";if(2>=a)return a+" days ago";c=new Date(1E3*c);return p[c.getMonth()]+" "+c.getDate()+" at "+c.getHours()+":"+b(c.getMinutes())}function h(c){var a=$("<div />");a.text(c);return a.html().replace('"',"&quot;")}function f(){$.get(e,null,function(c,a,b){k(c,a,b)})}function i(c){for(var a=
$('<div class="ad502-users" />'),b=0;b<c.length&&7>b;b++){var e=c[b],f=e.name;e.lastPost&&(f+=": "+g(e.lastPost));var d="http://www.gravatar.com/avatar/"+e.emailhash+"?s=23&d=identicon&r=PG",e=$('<a href="'+(m+"/users/"+e.id)+'" />');$("<img />").attr("title",f).attr("src",d).appendTo(e);a.append(e)}return a}function l(c){var a=c.user;return(c=c.userid)?'<a href="'+m+"/users/"+c+'">'+h(a)+"</a>":h(a)}function k(e){var b=$("#ad502-rooms");if(!e.error){b.html("");for(var d=e.rooms,t=0;t<d.length&&2>
t;t++){var k=d[t],o=m+"/rooms/"+k.id,v=$('<div class="ad502-room"></div>');v.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+h(k.name)+'"><a href="'+o+'">'+h(k.name)+"</a></span></h3>"));k.messages&&0<k.messages.length&&v.append($('<span title="'+a(k.lastPost)+'" class="ad502-last-message">'+g(k.lastPost)+" - "+l(k.messages[0])+"</span><br>"));k.singleImage?v.append($('<div class="ad502-users"><img src="'+m+"/rooms/users/"+k.id+'.jpeg" /></div>')):v.append(i(k.users));
b.append(v)}1<e.activeUsers?$("#h-chat-link").text(e.activeUsers+" People Chatting"):$("#h-chat-link").text("Visit Chat");$("#h-chat-link").attr("title",e.activeUsers+" users active in "+e.activeRooms+" rooms the last 60 minutes")}c<=n&&window.setTimeout(f,1E3*c);c+=j}var m,e,c=180,j=30,n=480,p="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");/^\/questions\/\d+/i.test(window.location.pathname)&&(n=0);return{init:function(c){m=c.chatUrl;e=c.reloadUrl;if(c.tagBased){var a=d();if(!a)return;
e+=(/\?/.test(e)?"&":"?")+"tags="+encodeURIComponent(a)}null===c.preloadData?f():k(c.preloadData,null,null)}}}();
StackExchange.helpers.noDiacritics=function(){var d={"\u00e0\u00e5\u00e1\u00e2\u00e4\u00e3\u00e5\u0105":"a","\u00e8\u00e9\u00ea\u00eb\u0119":"e","\u00ec\u00ed\u00ee\u00ef\u0131":"i","\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u0151":"o","\u00f9\u00fa\u00fb\u00fc":"u","\u00e7\u0107\u010d":"c","\u017c\u017a\u017e":"z","\u015b\u015f\u0161":"s","\u00f1\u0144":"n","\u00fd\u0178":"y","\u0142":"l","\u0111":"d","\u00df":"ss","\u011f":"g","\u00de":"th"};return function(b){for(var a in d)d.hasOwnProperty(a)&&(b=
b.replace(RegExp("["+a+"]"),d[a]));return b}}();function sanitizeAndSplitTags(d,b){for(var d=$.trim(d).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 "),a=d.split(/[\s|,;]+/),g=[],h=0;h<a.length;h++){var f=StackExchange.helpers.noDiacritics(a[h].toLowerCase()).replace(/_/g,"-"),f=f.replace(RegExp("[^a-z0-9.#+"+(b?"*":"")+"-]","g"),""),f=f.replace(/^[#+-]+/,""),f=f.replace(/[.-]+$/,"");0<f.length&&-1==$.inArray(f,g)&&g.push(f)}return g}
StackExchange.question=function(){var d=function(a,c){var b=null!=a;a||(a=$('div.question div.post-menu a:contains("link")'));var f=a.closest(".post-menu, .help-menu");if(a.hasClass("share-link"))f.find(".close-share-tip").click();else{a.addClass("share-link");var d=a.attr("id").substring(10),g=a.closest(".col-section").length?"section":a.closest("div.question").length?"question":"answer",h=$('<div class="share-tip" style="display:none">share a link to this '+g+'<input type="text" value="http://'+
document.location.host+a.attr("href")+'" style="display:block; width:292px;"><a class="close-share-tip" style="float:right">close</a></div>');c&&h.find(".close-share-tip").before('<a id="link-post-'+d+'" style="float:left">cite</a>');h.appendTo(f).fadeIn(b?"fast":0).bind("removing",function(){a.removeClass("share-link")}).find(".close-share-tip").click(function(){h.fadeOutAndRemove()}).end().find("input[type=text]").select()}},b=function(a){var c=$("#post-form h2:first"),b=c.wrap("<div />").parent(),
f=b.wrap("<div />").parent(),d=$("<div />").prependTo(f),g=f.height(),h=$("<div />"),a=$(a),i=parseInt(c.css("margin-bottom")),k=$("#content"),m=$("#wmd-input").outerWidth(),o=k.offset().left>c.offset().left-5&&"visible"!=k.css("overflow-x");h.css({height:0,overflowY:"hidden"}).appendTo(b).append(a);f.css({height:g,position:"relative"});b.css({position:"absolute",bottom:-i,width:m});d.addClass("answer-help-background").css({position:"absolute",bottom:-i,height:0,width:m});o&&(d.css("left",0),b.animate({paddingLeft:5},
1E3));h.animate({height:a.height()+i+10},1E3);d.animate({height:a.height()+i+10+g},1E3);$("<div style='float:right;margin-top:10px;'><a href='#'>ok</a></div>").hide().prependTo(b).fadeIn(1E3).find("a").one("click",function(a){var e=$(this).parent();setTimeout(function(){e.remove()},1);h.animate({height:0},1E3,function(){h.add(d).remove();c.unwrap().unwrap()});d.animate({height:0},1E3);o&&b.animate({paddingLeft:0},1E3);a.preventDefault()})},a=function(){$.get("/posts/answer-help").then(b)},g,h,f,i=
function(){var a=window.location.href;0>a.indexOf("#")||(a=a.match(/#(\d+|comment(\d+)_(\d+))/i))&&(a[2]?l(a[2],a[3]):k($(".answer[data-answerid="+a[1]+"]")))},l=function(a,c){var b="#comment-"+a,f=$(b);f.length?k(f):StackExchange.comments.loadAll($("#comments-link-"+c)).done(function(){k($(b))})},k=function(a){var c=f;a.css({backgroundColor:g}).animate({backgroundColor:c},2E3,"linear",function(){$(this).css("background-color","")});a.is(".comment")&&a[0].scrollIntoView(!0)},m=function(a){a=a||{};
$('.post-menu a:contains("link")').live("click",function(c){if(!c.ctrlKey&&!c.metaKey)return d($(this),a.showCitation),!1})};return{showShareTip:d,getQuestionId:function(a){a=(a?a.closest(".question"):$(".question")).data("questionid");if(!a)throw Error("getQuestionId could not find an id");return a},highlightComment:l,initShareLinks:m,canViewVoteCounts:function(){return h},init:function(b){StackExchange.question.fullInit?StackExchange.question.fullInit(b):StackExchange.question.bindAnonymousVoteDisclaimers();
StackExchange.comments.init({autoShowCommentHelp:b.autoShowCommentHelp});b.showShareTip&&d();$("input.anon-vote").live("click",function(){var c=$(this),a=c.postId(),b=c.parent();b.closest(".question,.answer").unbind("mouseenter.helpful").unbind("mouseleave.helpful");b.text("sending feedback ...");setTimeout(function(){b.text("Thank you for your feedback.")},500);$.ajax({type:"POST",url:"/vote/anon/"+a,data:{votetypeid:"Yes"==c.val()?2:3},complete:function(){}})});var c=$(".was-this-helpful"),j=c.css("color"),
k=$(".post-text").css("color");c.each(function(){var c=$(this),a=c.text();c.closest(".answer, .question").bind("mouseenter.helpful",function(){c.html("Was this post useful to you? &nbsp;&nbsp;<input style='display:none;' class='anon-vote' type='button' value='Yes'/> &nbsp;<input style='display:none;' class='anon-vote' type='button' value='No'/>").animate({color:k},"fast","linear").find("input").fadeIn("fast")}).bind("mouseleave.helpful",function(){c.text(a).animate({color:j},"fast","linear")})});
m(b);if(b.showAnswerHelp)$("#wmd-input").one("focus",a);b.showCitation&&$("div.share-tip a[id^='link-post-']").live("click",function(){$(this).closest(".post-menu").find(".close-share-tip").click();citation.show($(this))});f=b.backgroundColor;g=b.highlightColor;h=b.canViewVoteCounts;i(b)}}}();
StackExchange.question.bindAnonymousVoteDisclaimers=function(){function d(b){return function(a){var d='Please <a href="/users/login?returnurl='+escape(document.location)+'">login or register</a> to '+b+" this post.";StackExchange.helpers.showErrorPopup($(this).parent(),d);var d="",h=$(this).prop("className"),f=$(this).closest(".answer").length?"answer":"question";/vote-up/.test(h)?d="?vote=up&type="+f:/vote-down/.test(h)?d="?vote=down&type="+f:/star/.test(h)&&(d="?vote=favorite");StackExchange.helpers.fireAndForget("/analytics/user/try-vote"+
d);a.preventDefault()}}$(".vote-up-off, .vote-down-off").click(d("vote for"));$("div.post-menu a[id^='flag-post-']").unbind("click").click(d("flag"));$(".star-off:not(.disabled)").live("click",d("favorite"))};
StackExchange.comments=function(){function d(a,b){this.postId=a;this.jDiv=b;this.jCommentsLink=$("#comments-link-"+a)}function b(a){var b=(a.constructor===$?a:$(a)).closest(".question, .answer, div[id^='post-']").find(".comments"),a=b.attr("id").replace(/^comments-/,"");if(g[a])return g[a];b=new d(a,b);return g[a]=b}function a(){if(0!=$(".question[data-questionid]").length){var a=StackExchange.question.getQuestionId();$(".comment .comment-date > span").each(function(){var b=$(this),d=b.closest(".answer"),
d=d&&d.length?d.data("answerid"):0,g=b.closest(".comment").attr("id").substr(8);b.wrap('<a class="comment-link" onclick="StackExchange.question.highlightComment({cid}, {aid})" href="{hash}"></a>'.format({hash:"#comment"+g+"_"+(d?d:a),cid:g,aid:d}))})}}var g={},h=function(){};d.prototype={checkDiscussion:h,ensureInput:h,commentsShown:function(){this.jCommentsLink.hide();this.jCommentsLink.data("comments-count",0)},addShow:function(a){var b=this;this.loadAllComments().done(function(){b.jCommentsLink.hide();
b.checkDiscussion()});var d=this.ensureInput();d&&!a&&d.focus()},ajax:function(a,b,d,g){d&&!g&&StackExchange.helpers.addSpinner(d,{"margin-left":"10px"});var h=this;return $.ajax(a).fail(function(a){$(".error-notification").fadeOut("fast",function(){$(this).remove()});a=a.responseText;if(!a||100<=a.length)a="An error occured"+(b?" "+b:"");StackExchange.helpers.showErrorPopup(d||h.jDiv,a);d&&!g&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},showComments:function(b){this.jDiv.find(" > table > tbody").html(b);
this.jCommentsLink.text("add comment");"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);a();this.commentsShown()},loadAllComments:function(a){this.jDiv.removeClass("dno");if(!a&&!/more comment/.test($("#comments-link-"+this.postId).text()))return $.Deferred().resolve().promise();var b=this;return this.ajax({type:"GET",url:"/posts/"+this.postId+"/comments",dataType:"html"},"while fetching comments").done(function(a){b.showComments(a)}).promise()}};return{init:function(f){f=f&&
f.post||document;$("a[id^='comments-link-']",f).click(function(){var a=/more comment/.test($(this).text());b(this).addShow(a)});f==document&&a()},loadAll:function(a){return b(a).loadAllComments(!0)},extendPostUi:function(a){for(var b in a)a.hasOwnProperty(b)&&(d.prototype[b]=a[b])},uiForPost:b}}();
StackExchange.share=function(){function d(a,b,d){window.open(a,b,d)||(window.location.href=a)}function b(a,b){var d=a.indexOf("?"),f=a.indexOf("#");return-1==d?-1==f?a+"?"+b:a.substring(0,f)+"?"+b+a.substring(f):-1==f?a+"&"+b:a.substring(0,f)+"&"+b+a.substring(f)}return{gplus:function(a,g){g=b(g,"sgp=1");a.click(function(){d("https://plus.google.com/share?url="+g,"sharegplus","toolbar=1,status=1,resizable=1,scrollbars=1,width=600,height=500")})},twitter:function(a,g,h){g=b(g,"stw=1");a.click(function(){d("http://twitter.com/share?url="+
g+"&ref=twitbtn&text="+h,"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},facebook:function(a,g,h){g=b(g,"sfb=1");a.click(function(){d("http://www.facebook.com/sharer.php?u="+g+"&ref=fbshare&t="+h,"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}();
function initTagRenderer(d,b){window.tagRenderer||(window.tagRendererRaw=function(a,g){var g=g||"",h="";g||(d&&-1<$.inArray(a,d)?h=" required-tag":b&&-1<$.inArray(a,b)&&(h=" moderator-tag"));return"<a class='post-tag"+h+"' href='"+g+"/questions/tagged/"+encodeURIComponent(a)+"' title=\"show questions tagged '"+a+"'\" rel='tag'>"+a+"</a>"},window.tagRenderer=function(a,b){return $(tagRendererRaw(a,b))})}
function showFadingHelpText(d){d.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}
function initFadingHelpText(){var d={"wmd-input":"#how-to-format",tagnames:"#how-to-tag","tag-editor":"#how-to-tag",title:"#how-to-title"},b=$("#wmd-input, #tagnames, #title, .tag-editor input"),a=function(a){return $(a).parent().hasClass("tag-editor")?d["tag-editor"]:d[$(a).attr("id")]};b.focus(function(){var d=a(this);b.each(function(){var b=a(this);b!=d&&$(b).hide()});var h=$(d);h.is(":visible")||showFadingHelpText(h)})}
$.fn.extend({postId:function(){var d=this.first();if(!d.hasClass("answer")||!d.hasClass("question"))d=d.closest(".answer, .question");return parseInt(d.find(".vote input")[0].value)}});
StackExchange.newsletterAd=function(){function d(a){a=$('<div id="lightbox-panel" class="popup" style="display:block"></div>').append('<div class="popup-close"><a title="close this popup (or hit Esc)">&times;</a></div>').append(a);$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");a.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(function(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()})}function b(){var a=StackExchange.options.site.name,
b=$(['<div style="text-align: left;">','<h2 style="margin-bottom: 15px;">Subscribe to the '+a+" weekly newsletter</h2>",'<p><strong><a href="/users/login?returnurl=/newsletter/signup/redirect">Create an account on '+a+'</a> or <a href="/users/login?returnurl=/newsletter/signup/redirect">log in</a> if you already have one.</strong></p>','<form><label for="newsletter-email-input">Or, send newsletter emails to:</label> <input type="text" id="newsletter-email-input" maxlength="100" title="your email address" /> <input type="submit" value="Subscribe" id="newsletter-email-submit" /></form></div>'].join(""));
b.find("form").submit(function(){var a=$(this),d=$.trim(b.find("#newsletter-email-input").val());if(0==d.length)return!1;StackExchange.helpers.addSpinner(a);$.ajax({url:"/newsletter/signup/anon",type:"POST",dataType:"json",data:{email:d},success:function(b){"confirmed"==b.status&&!b.error?(a.find("#newsletter-email-input").attr("disabled",!0),a.find("#newsletter-email-submit").replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>')):
"unconfirmed"==b.status&&!b.error?(a.find("#newsletter-email-input").attr("disabled",!0),a.find("#newsletter-email-submit").replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),a.append("<br /><br/><p><em>Please click the link in the confirmation email to activate your subscription.</em></p>"),$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>')):
a.showErrorPopup(b.error||"there was a problem signing up for the newsletter<br />please try again later")},error:function(){a.showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner(a)}});return!1});d(b)}return{init:function(){$("#newsletter-signup").click(function(){var a=$(this);if(StackExchange.options.user.isAnonymous)return b(),!1;StackExchange.helpers.addSpinner("#newsletter-signup-container");
$.ajax({url:"/newsletter/signup",type:"POST",dataType:"json",success:function(b){b.url?window.location.href=b.url:"confirmed"==b.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==b.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):a.parent().showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},
error:function(){a.parent().showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})});$("#newsletter-preview").click(function(){var a=$(window).height(),a=Math.min(600,a-100),a=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',a,'px;"><iframe src="',$(this).attr("href"),'" width="660" height="',a,'" frameborder="0"></iframe></div>'].join("");
d(a);return!1})},loader:function(a,b){var a=b||a,d=$(".newuser-greeting");$.ajax({url:"/newsletter/targetted/ajax",data:{domain:a},success:function(a){$("#newsletter-ad").remove();d.empty().append($(a))},complete:function(){d.attr("class","").attr("style","")}});b||(window.sessionStorage.tNewsletter=a+"-continued")}}}();
(function(d,b,a,g){d.fn.caret=function(h,f){var i,l,k=this[0],m=d.browser.msie;"object"===typeof h&&"number"===typeof h.start&&"number"===typeof h.end?(i=h.start,l=h.end):"number"===typeof h&&"number"===typeof f?(i=h,l=f):"string"===typeof h?-1<(i=k.value.indexOf(h))?l=i+h[b]:i=null:"[object RegExp]"===Object.prototype.toString.call(h)&&(h=h.exec(k.value),null!=h&&(i=h.index,l=i+h[0][b]));if("undefined"!=typeof i)return m?(m=this[0].createTextRange(),m.collapse(!0),m.moveStart("character",i),m.moveEnd("character",
l-i),m.select()):(this[0].selectionStart=i,this[0].selectionEnd=l),this[0].focus(),this;if(m)if(l=document.selection,"textarea"!=this[0].tagName.toLowerCase()){m=this.val();i=l[a]()[g]();i.moveEnd("character",m[b]);var e=""==i.text?m[b]:m.lastIndexOf(i.text);i=l[a]()[g]();i.moveStart("character",-m[b]);var c=i.text[b]}else i=l[a](),l=i[g](),l.moveToElementText(this[0]),l.setEndPoint("EndToEnd",i),e=l.text[b]-i.text[b],c=e+i.text[b];else e=k.selectionStart,c=k.selectionEnd;i=k.value.substring(e,c);
return{start:e,end:c,text:i,replace:function(a){return k.value.substring(0,e)+a+k.value.substring(c,k.value[b])}}}})(jQuery,"length","createRange","duplicate");StackExchange.loggedIn={};
var profileLink=function(){var d,b,a,g=!1,h,f,i,l=function(){return $(".profile-link")},k=function(a){a||(a=l());return a.hasClass("profile-link-on")},m=function(a,c){c.toggleClass("profile-link-on",a);$(".profile-triangle").toggleClass("profile-triangle-on",a)},e=function(a){if(!a.data("loading")){a.data("loading",!0);var c=a.find(".profile-stats");c.addSpinner();$.ajax({type:"GET",url:"/users/profile-link-stats",dataType:"html",success:function(a){$(a).hide().appendTo(c).fadeIn("fast")},error:function(){a.data("loading",
!1)},complete:StackExchange.helpers.removeSpinner})}},c=function(){var a=new Date;a.setTime(a.getTime()+1E3*i);var c=a.getUTCHours(),a=a.getUTCMinutes();10>c&&(c="0"+c);10>a&&(a="0"+a);$(".profile-popup .popup-clock").text("UTC time "+c+":"+a)},j=StackExchange.helpers.DelayedReaction(function(){profileLink.show()},450,{always:function(){n.cancel()}}),n=StackExchange.helpers.DelayedReaction(function(){profileLink.hide()},1E3,{always:function(){j.cancel()}}),p=function(a){a.hover(j.trigger,n.trigger)};
return{init:function(a,c,e,f){var j=l(),o=$(".profile-triangle");d=j.attr("href");b=a;g=c;h=e;i=f||0;o.click(profileLink.click);c||p(j.add(o));$(document).click(function(a){k(j)&&a.target!=j[0]&&a.target!=o[0]&&!$.contains($(".profile-wrapper")[0],a.target)&&profileLink.hide()})},click:function(){var a=l();n.cancel();j.cancel();k(a)?profileLink.hide():profileLink.show()},show:function(j,i){if(!j||"number"==typeof j)j=l();i||(i=$(".profile-popup"));if(!i.length){var n=j,t=$('<div class="profile-popup" style="position:absolute; display:none;"><div class="profile-wrapper"><div class="profile-gravatar"><a href="'+
d+'">'+b+'</a><ul class="profile-links"><li><a href="'+h+'">activity</a></li>'+(n.hasClass("child-meta")?"":'<li><a href="/privileges">privileges</a></li>')+'<li><a href="/users/logout">log out</a></li></ul></div><div class="profile-stats"></div><div class="profile-footer"><span class="popup-clock"></span> <a>close</a></div></div></div>');t.insertBefore(n).find(".profile-footer").click(profileLink.click);g||p(t);i=t}k(j)||(i.fadeIn("fast"),e(i),m(!0,j),f=new Date);a||(a=setInterval(c,2E4),c())},hide:function(c,
b){if(f&&!(500>(new Date).getTime()-f.getTime())){if(!c||"number"==typeof c)c=l();b||(b=$(".profile-popup"));k(c)&&(b.fadeOut("fast"),m(!1,c));a&&(clearInterval(a),a=null)}}}}();
StackExchange.tagPreferences=function(){function d(a,b,e){var c="";"undefined"!=typeof forUserId&&(c=forUserId);$.post("/users/save-preference",{fkey:StackExchange.options.user.fkey,key:a,value:b,forUserId:c},e)}var b=function(a,b){return a.map(function(a,c){return $(c).text()}).filter(function(a,c){if(!b)return!0;var d;/\*/.test(c)&&(d=RegExp(c.replace(/([.+])/g,"\\$1").replace(/\*/g,".*")));for(a=0;a<b.length;a++){var f=b[a];if(c===f||d&&d.test(f))return!1}return!0}).map(function(a,c){var b;b=c.replace(/#/g,
"\u00f1").replace(/\+/g,"\u00e7").replace(/\./g,"\u00fb");return/\*/.test(b)?"div.tags:regex(class, t-"+b.replace(/\*/g,".*")+")":"div.t-"+b}).get().join(",")},a=function(a,b,e,c,f,i){for(var l=$(a).val(),r=sanitizeAndSplitTags(l,!0),s=!1,q=0;q<r.length;q++)0!=$.trim(r[q]).length&&($(b).children().each(function(){$(this).text()==r[q]&&($(this).fadeTo(500,0.1).fadeTo(500,1),s=!0)}),s||(l=$.URLEncode(r[q]),$(b).append('<a id="'+r[q]+'" href="/questions/tagged/'+l+'" class="'+c+'" title="show questions tagged \''+
r[q]+"'\">"+r[q]+"</a> "),g(e)),s=!1);$(a).val("");f&&$(a).focus();i||d(e,$(b).text());h()},g=function(a){$(20==a?"#interestingTags > .post-tag:last":25==a?"#ignoredTags > .post-tag:last":"#interestingTags > .post-tag, #ignoredTags > .post-tag").append('<span class="delete-tag" title="remove this tag"></span>').click(function(a){a=$(a.target);if(a.is("[class^=delete-tag]")){var a=a.closest(".post-tag"),b=a.closest("div"),c=b.is("#ignoredTags")?25:20;a.remove();d(c,b.text());h();return!1}})},h=function(a,
d){var e=$("#ignoredTags > a"),c=$("#interestingTags > a"),f=$("#inferredTags > a");if(!a||!(0==e.length&&0==c.length&&0==f.length)){$("div.question-summary").removeClass("tagged-ignored tagged-ignored-hidden tagged-interesting");e=b(e,d);c=b(c,d);f=b(f,d);if(0<e.length){var g=$("#hideIgnored").is(":checked")?"tagged-ignored-hidden":"tagged-ignored";$(e).closest("div.question-summary").addClass(g)}0<c.length&&$(c).closest("div.question-summary").addClass("tagged-interesting");0<f.length&&$(f).closest("div.question-summary").addClass("tagged-interesting")}},
f=function(b,d){var e=$("#tag-menu"),c;"favorite"==d&&(c=$("#ignoredTags a").filter(function(){return $(this).text()==b}),c.add(c.next()).remove(),$("#interestingTag").val(b),a("#interestingTag","#interestingTags",20,"post-tag",!1,!0));"ignore"==d&&(c=$("#interestingTags a").filter(function(){return $(this).text()==b}),c.add(c.next()).remove(),$("#ignoredTag").val(b),a("#ignoredTag","#ignoredTags",25,"post-tag",!1,!0));"clear"==d&&(c=$("#ignoredTags a").filter(function(){return $(this).text()==b}),
c.add(c.next()).remove(),c=$("#interestingTags a").filter(function(){return $(this).text()==b}),c.add(c.next()).remove(),h());StackExchange.helpers.addSpinner(e);$.ajax({type:"POST",url:"/tags/"+encodeURIComponent(b)+"/favorite",data:{action:d,fkey:StackExchange.options.user.fkey},dataType:"html",success:function(a){l(e.html($(""+a)),b)},error:function(){},complete:StackExchange.helpers.removeSpinner})},i=function(a,b){var d=$("#tag-menu");StackExchange.helpers.addSpinner(d);$.ajax({type:"POST",url:"/tags/"+
encodeURIComponent(a)+"/subscription",data:{unsubscribe:b,fkey:StackExchange.options.user.fkey},dataType:"html",success:function(c){l(d.html($(""+c)),a)},error:function(){},complete:StackExchange.helpers.removeSpinner})},l=function(a,b){a.find(".tm-se-subscription").click(function(){i(b,$(this).hasClass("tm-se-unsubscribe"))}).end().find(".tm-favorite, .tm-favorite-clear, .tm-favorite-ignore").click(function(){$(this).hasClass("tm-favorite")?f(b,"ignore"):$(this).hasClass("tm-favorite-clear")?f(b,
"favorite"):$(this).hasClass("tm-favorite-ignore")&&f(b,"clear")})};return{applyPrefs:h,isIgnored:function(a){var d=$("#ignoredTags > a");if($("#hideIgnored").is(":checked")&&(d=b(d,!0),0<d.length))return 0<$(a).find(d).length},init:function(){StackExchange.tagmenu.init(l);0!=$("#interestingTags").length&&(g(),$("#ignoredAdd").click(function(){a("#ignoredTag","#ignoredTags",25,"post-tag user-tag",!0)}),$("#interestingAdd").click(function(){a("#interestingTag","#interestingTags",20,"post-tag user-tag",
!0)}),$("#hideIgnored").click(function(){d(30,$(this).is(":checked"));h()}),StackExchange.using("tagAutocomplete",function(){bindTagFilterAutoComplete("#ignoredTag");bindTagFilterAutoComplete("#interestingTag")}))}}}();
StackExchange.question.fullInit=function(d){window.votesCast=d.votesCast;StackExchange.vote.init(d.questionId);StackExchange.question.bindSuggestedEditPopupLinks();d.canViewVoteCounts&&StackExchange.vote.bindFetchVoteCounts();StackExchange.vote_bounty.init(d);if(/^#autocomment/.test(window.location.hash)){var b=$(".comments-link:first"),a="#comment-"+window.location.hash.substring(12),g=function(){var b=$(a),f=$("<span><b>Trivial answer converted to comment</b></span>");b.find(".comment-date").append($("<br>")).append(f);
b.css({backgroundColor:d.highlightColor});b.animate({backgroundColor:d.backgroundColor},2E3,"linear",function(){$(this).css("background-color","")});$(a)[0].scrollIntoView(!0)};d.totalCommentCount&&d.shownCommentCount&&d.totalCommentCount!=d.shownCommentCount?StackExchange.comments.loadAll(b).done(g):g()}};
StackExchange.question.bindSuggestedEditPopupLinks=function(){$("div.post-menu a[id^='edit-pending-']").each(function(){var d=$(this);StackExchange.using("suggestedEdits",function(){d.unbind("click").click(function(){StackExchange.suggestedEdits.loadPopup($(this));return!1})})})};
StackExchange.vote=function(){var d=StackExchange.helpers,b={informModerator:-1,undoMod:0,acceptedByOwner:1,upMod:2,downMod:3,offensive:4,favorite:5,close:6,reopen:7,bountyClose:9,deletion:10,undeletion:11,spam:12},a=function(a){a||(a="div.vote");$(a).find(".vote-up-off").unbind("click").click(function(){f($(this))});$(a).find(".vote-down-off").unbind("click").click(function(){i($(this))})},g=function(a){return(a?a.closest("div.vote"):$("div.vote")).find(".vote-up-off, .vote-down-off").unbind("click")},
h=function(a){$.each(a,function(){var a=$("div.vote:has(input[value="+this.PostId+"])");switch(this.VoteTypeId){case b.upMod:a.find(".vote-up-off").addClass("vote-up-on");break;case b.downMod:a.find(".vote-down-off").addClass("vote-down-on");break;case b.favorite:a.find(".star-off").addClass("star-on");a.find("div.favoritecount b").addClass("favoritecount-selected");break;default:StackExchange.debug.log("site.vote.js > highlightExistingVotes has no case for "+this.VoteTypeId)}});votesCast=null},f=
function(a){var d=a.parent().find(".vote-up-off"),f=a.parent().find(".vote-down-off"),h=d.hasClass("vote-up-on"),i=f.hasClass("vote-down-on");e(a,h?-1:i?2:1);m(d,f);h||d.addClass("vote-up-on");d=h?b.undoMod:b.upMod;g(a);f=k(a);c(a,f,d,j)},i=function(a){var d=a.parent().find(".vote-up-off"),f=a.parent().find(".vote-down-off"),h=f.hasClass("vote-down-on"),i=d.hasClass("vote-up-on");e(a,h?1:i?-2:-1);m(d,f);h||f.addClass("vote-down-on");d=h?b.undoMod:b.downMod;g(a);f=k(a);c(a,f,d,j)},l=function(){return $("div.vote a[id^='vote-accepted-']")},
k=function(a){return a.closest("div.vote").find("input").val()},m=function(a,c){a.removeClass("vote-up-on");c.removeClass("vote-down-on")},e=function(a,c){var b=a.siblings("span.vote-count-post"),d;if(0<b.find(".vote-count-separator").length){d=parseInt(b.children(":first").text(),10);var f=Math.abs(parseInt(b.children(":last").text(),10));d-=f;b.css("cursor","pointer").unbind("click").attr("title","View upvote and downvote totals").click(function(){u($(this))})}else d=parseInt(b.text(),10);b.text(d+
c)},c=function(a,c,b,d,f,e){var j={fkey:StackExchange.options.user.fkey};if(f)for(var g in f)j[g]=f[g];var h=function(){$.ajax({type:"POST",url:"/posts/"+c+"/vote/"+b,data:j,dataType:"json",success:function(b){b.Warning?confirm(b.Message)?(j.ignoreWarnings="true",h()):e&&e():(d(a,c,b),e&&e())},error:function(){n(a,"An error has occurred - please retry your request.");e&&e()}})};h()},j=function(c,f,e){if(e.Success){if(e.Message){var j=e.Message;d.showErrorPopup(c.parent(),j,!0)}e.ShowShareTip&&(e=
$(c).closest(".question,.answer").find('div.post-menu a:contains("link")'),StackExchange.question.showShareTip(e))}else if(window.console&&window.console.firebug&&(!e.Message||5>e.Message.length))n(c,"FireBug seems to be enabled, which can sometimes interfere with voting;<br>please refresh the page to see if your vote was processed.<br><br>If this persists, consider disabling FireBug for this site.");else if(n(c,e.Message),m(c,c),c.parent().find("span.vote-count-post").text(e.NewScore),e.LastVoteTypeId){var e=
e.LastVoteTypeId,g;e==b.upMod?(j=".vote-up-off",g="vote-up-on"):e==b.downMod&&(j=".vote-down-off",g="vote-down-on");j&&c.closest("div.vote").find(j).addClass(g)}a(c.parent())},n=function(a,c,b){d.showErrorPopup(a.parent(),c,!1,b)},p=function(){$(".star-off:not(.disabled)").live("click",function(a){r($(this));a.preventDefault()})},r=function(a){if(!a.data("loading")){a.data("loading",!0);var d=k(a)||a.siblings("input[type=hidden]").val(),e=a.parent().find("div.favoritecount b"),f=parseInt("0"+e.text().replace(/^\s+|\s+$/g,
""),10),j=function(){a.hasClass("star-on")?(a.removeClass("star-on"),e.removeClass("favoritecount-selected").text(0>=f--?"":f)):(a.addClass("star-on"),e.addClass("favoritecount-selected").text(++f))};j();c(a,d,b.favorite,function(c,b,d){a.data("loading",!1);d.Success||(j(),a.parent().showErrorPopup(d.Message))})}},s=function(a){$("div.post-menu *[id^='delete-post-'], table.flagged-posts *[id^='delete-post-']").unbind("click").die("click").live("click",function(d){d.preventDefault();var d=$(this),
e=d.attr("id").substring(12),f=-1<d.text().indexOf("undelete");if(confirm("Vote to "+(f?"un":"")+"delete this post?"))c(d,e,f?b.undeletion:b.deletion,a||q)})},q=function(a,c,b){var e=-1<a.text().indexOf("undelete");b&&b.Success?(a.text(b.Message),0>b.NewScore?(a=0<$(".question:has(a[id='delete-post-"+c+"'])").length?".question, div.answer":"#answer-"+c,a=$(a),e?document.location.reload(!0):($("div.question-status:has(span:contains('delete'))").show(),a.addClass("deleted-answer").find("a[id^='delete-post-']").addClass("deleted-post").end().find("div[id^='comments-']").addClass("comments-container-deleted").end().find("a[id^='comments-link-']").addClass("comments-link-deleted"))):
n(a,"This post still needs "+b.NewScore+" vote(s) from other users to "+(e?"un":"")+"delete")):(e=b&&b.Message?b.Message:"A problem occurred during "+(e?"un":"")+"deletion",d.showErrorPopup(a.parent(),e))},t=function(a){var d=a.attr("id").substring(14);l().unbind("click");c(a,d,b.acceptedByOwner,function(a,c,d){d.Success?($(".vote-accepted-off").removeClass("vote-accepted-on"),parseInt(d.Message,10)==b.acceptedByOwner?a.addClass("vote-accepted-on"):a.removeClass("vote-accepted-on")):n(a,d.Message);
l().click(function(){t($(this))})})},u=function(a){var c=a.closest("div.vote").children('input[type="hidden"]').val();StackExchange.helpers.addSpinner(a);$.ajax({type:"GET",url:"/posts/"+c+"/vote-counts",dataType:"json",success:function(c){$(".error-notification").fadeOut("fast",function(){$(this).remove()});a.html('<div style="color:green">'+c.up+'</div><div class="vote-count-separator"></div><div style="color:maroon">'+c.down+"</div>").unbind("click").css("cursor","default").attr("title",c.up+" up / "+
c.down+" down")},error:function(c){StackExchange.helpers.removeSpinner();d.showErrorPopup(a.parent(),c.responseText&&100>c.responseText.length?c.responseText:"An error occurred during vote count fetch")}})};return{init:function(c){StackExchange.options.user.isRegistered?(null==votesCast?$.ajax({type:"GET",url:"/posts/"+c+"/votes",dataType:"json",success:h}):h(votesCast),a(),$("div.post-menu a[id^='protect-post-']").unbind("click").click(function(a){a.preventDefault();a=this.id.substring(13);confirm("Are you sure you want to protect this question?")&&
$.ajax({type:"POST",url:"/question/protect",data:{id:a,fkey:StackExchange.options.user.fkey},success:function(){location.reload(!0)}});return!1}),$("div.post-menu a[id^='unprotect-post-']").unbind("click").click(function(a){a.preventDefault();a=this.id.substring(15);confirm("Are you sure you want to unprotect this question?")&&$.ajax({type:"POST",url:"/question/unprotect",data:{id:a,fkey:StackExchange.options.user.fkey},success:function(){location.reload(!0)}});return!1}),StackExchange.vote_closingAndFlagging.init(),
p()):StackExchange.question.bindAnonymousVoteDisclaimers();l().unbind("click").click(function(){t($(this))});s()},up:f,down:i,favorite_init:p,delete_init:s,bindFetchVoteCounts:function(){var a=$(".vote-count-post");$.each(a,function(a,c){var b=$(c);b.attr("title","View upvote and downvote totals").css("cursor","pointer").unbind("click");var d=function(){u(b)};b.hasClass("mobile-vote-count")||b.click(d)})},highlightExistingVotes:h,submit:c,voteTypeIds:b,getPostId:k}}();
StackExchange.vote_closingAndFlagging=function(){var d=StackExchange.vote.voteTypeIds,b,a=function(a,c,b,d){$("#close-question-popup").remove();var e=a.parent();b||a.addSpinnerAfter({padding:"0 3px"});$.ajax({type:"GET",url:"/posts/popup/close/"+c+(b?"?isForFlagging=1":""),dataType:"html",success:function(c){c=$(c);d&&(d.fadeOut("fast"),m=c);c.appendTo(e);g(c,a,d);c.center().fadeIn("fast")},error:function(){e.showErrorPopup("Unable to load popup - please try again")},complete:StackExchange.helpers.removeSpinner})},
g=function(a,c,b){a.find(".popup-close").click(function(){a.fadeOutAndRemove();b&&b.remove()});var d=a.find(".popup-actions-cancel");b?d.text("back").click(function(){a.fadeOut("fast");b.fadeIn("fast")}):d.click(function(){a.fadeOutAndRemove()});var e=a.find(".popup-submit");a.find('input[type=radio]:not(input[name="existing-close"])').click(function(){var c=$(this),b=c.closest("li");!b.hasClass("action-selected")&&!i(c)&&(e.enable(),a.find(".popup-active-pane li.action-selected").removeClass("action-selected"),
b.addClass("action-selected"))});var f=$("#duplicate-question"),j=$("#duplicate-question-id");f.helpOverlay().typeWatch({highlight:!1,wait:750,captureLength:-1,callback:function(){k(e,f,questionId,j)}});$("#close-question-form").submit(function(){h(a,c,$(this),j,e);return!1})},h=function(a,c,b,d,e){if(!e.attr("disabled")){$("#remaining-votes").addSpinner({position:"absolute",margin:"3px 0 0 5px"});e.disable();var j=0<a.find("input[name=isForFlagging]").length,g=d.val();$.ajax({type:"POST",url:b.attr("action"),
dataType:"json",data:{fkey:StackExchange.options.user.fkey,isForFlagging:j,"close-reason-id":$("#pane-main input[type=radio]:checked").val(),"migration-site-id":$('input[type=radio][id^="close-offtopic-"]:checked, input#migrate-anywhere:checked').val(),"duplicate-question-id":g},success:function(a){f(c,questionId,a,j,!!g)},error:function(){c.parent().showErrorPopup(-1<"A problem occurred when trying to "+c.text().indexOf("open")?"reopen":"close")},complete:function(){StackExchange.helpers.removeSpinner();
a.fadeOutAndRemove()}})}},f=function(a,c,d,e,f){!e&&a.is("[id^='flag-post-'], [id^='mobile-flag-post-']")&&(a=a.parent().find("a[id^='close-question'], a[id^='mobile-close-post-']"));c=a&&-1<a.text().indexOf("open")?"reopen":"close";if(d.Success){if(!b||!b.closeCallback||!b.closeCallback(a,d))if(d.Message){var j=a.parent();e?j.showErrorPopup(d.Message):(a.text(a.text().replace(/\w?\(\d\)/,"")+" "+d.Message),j.showErrorPopup("This question still needs "+d.NewScore+" vote(s) from other users to "+c));
f&&(a.closest(".mod-post-header").length||StackExchange.comments.loadAll(a))}else d.RedirectTo?location.href=d.RedirectTo:location.reload(!0)}else e=null,d.Refresh&&(e=function(){location.reload(!0)}),a.parent().showErrorPopup(d.Message||"A problem occurred when trying to "+c,!1,e)},i=function(a){var c=a.attr("id").substr(6),b=$("#pane"+c);if(0==b.length)return null;$("#pane-main").removeClass("popup-active-pane").hide();b.addClass("popup-active-pane").show();$.each(b.find(".auto-load"),function(){$(this).removeClass("auto-load").addSpinner();
0==$(this).attr("id").indexOf("suggested-duplicates-")&&$(this).load("/posts/popup/close-suggestions/"+$(this).attr("id").substr(21),function(){var a=$("#duplicate-question");$(this).find(".existing-linked-questions input[type=radio]").click(function(){a.hideHelpOverlay().val($(this).parent().attr("title")).keydown()})})});a.closest("div.popup").find(".popup-actions-cancel").html("back").unbind("click").click(l);window["pane"+c]();return b},l=function(){$(".popup-subpane").removeClass("popup-active-pane").hide();
$("#pane-main").addClass("popup-active-pane").show().find("input[type=radio]:checked").removeAttr("checked").end().find("li.action-selected").removeClass("action-selected");$(".popup").find(".popup-submit").disable().end().find(".popup-actions-cancel").html("cancel").unbind("click").click(function(){$(".popup").fadeOutAndRemove()})},k=function(a,c,b,d){var e=c.parent().find(".selected-master-preview");a.disable();e.html("");0!=$.trim(c.val()).length&&(StackExchange.helpers.addSpinner(e),$.ajax({type:"GET",
url:"/posts/validate-duplicate-question/"+b,data:{val:c.val()},dataType:"json",success:function(c){c.success?(d.val(c.id),e.html('<div class="post-text"><h3><a href="'+c.url+'" target="_blank">'+c.title+"</a></h3><p>"+c.body+"</p></div><p>"+c.tags+"</p>"),a.enable()):c.title?e.html(c.title):e.html("")},error:function(a){StackExchange.helpers.removeSpinner();StackExchange.helpers.showErrorPopup(c.parent(),a.responseText&&100>a.responseText.length?a.responseText:"An error occurred during duplicate validation")}}))},
m,e,c=function(c){m=null;n(c);c.find("form").submit(function(){r(c);return!1});$("#flag-load-close").unbind("click").click(function(){if(e)e(c,$(this));else{var b=$(this);b.closest("li").siblings("li").trigger("hide-action");if(m)c.fadeOut("fast"),m.fadeIn("fast");else{b.siblings(".action-name").addSpinner({margin:"0 5px"});var d=c.attr("id").substr(11),f=$("#flag-post-"+d),j="true"==$("#flag-isClosePopupForFlagging").val();a(f,d,j,c)}c.find(".popup-submit").disable();b.removeAttr("checked")}})},
j=function(a){a=a.find("input:radio").attr("id").substr(5);a=a==d.offensive||a==d.spam;$(".flag-remaining-spam").toggle(a);$(".flag-remaining-inform").toggle(!a)},n=function(a){var c=a.find(".popup-submit"),b=a.find('textarea[name="flag-reason"]');b.focus(function(){b.hideHelpOverlay();var a=b.closest("li").find("input:radio");a.is(":checked")||a.attr("checked","checked")}).charCounter({min:10,max:500,setIsValid:function(a){b.closest("li").find("input[type=radio][value=other]").is(":checked")&&c.enable(a)}});
a=b.closest(".action-subform");a.find("input.flag-prefilled").click(function(){c.enable()});a.find('input[value="other"]').click(function(){b.focus()});a.find("label, input:radio").css("cursor","pointer")},p=function(a){if(a.is(".mod-attention-subform")){var c=a.find('textarea[name="flag-reason"]');c.helpOverlay();a.find("input[value=other]:checked").length?c.focus():a.find("input:radio:checked").length||a.closest(".popup").find(".popup-submit").disable()}},r=function(a){a.find(".popup-submit").disable().siblings(".spinner-container").addSpinner();
var c=a.attr("id").substr(11),b=$("#flag-post-"+c),e=a.find('input[name="flag-post"]:checked').val();e==d.informModerator?s(a,c,b):StackExchange.vote.submit(b,c,e,q,null,function(){a.fadeOutAndRemove()})},s=function(a,c,b){var d=a.find(".mod-attention-subform"),e=d.find("input:radio:checked"),d="other"==e.val()?d.find('textarea[name="flag-reason"]').val():e.val();$.ajax({type:"POST",url:"/messages/inform-moderator-about-post/"+c,dataType:"json",data:{fkey:StackExchange.options.user.fkey,msg:d},success:function(a){b.parent().showErrorPopup(a.Message)},
error:function(a){b.parent().showErrorPopup(a.responseText&&100>a.responseText.length?a.responseText:"An error occurred during submission")},complete:function(){a.fadeOutAndRemove()}})},q=function(a,c,b){b.Refresh?location.reload(!0):a.parent().showErrorPopup(b.Message)};return{on_close_click:function(a){e=a},flag_actionSelected:j,flag_subformShow:p,close_initPopup:g,flag_loaded:c,init:function(e){b||(b=e);$("div.post-menu a[id^='close-question-'], table.flagged-posts input[id^='close-question-']").unbind("click").die("click").live("click",
function(c){c.preventDefault();var c=$(this),b=-1<c.text().indexOf("open"),e=c.attr("id").substring(15);b?confirm("Nominate this question for reopening?")&&StackExchange.vote.submit(c,e,d.reopen,f):a(c,e)});$("div.post-menu a[id^='flag-post-'], div.flag-options .flag-post").unbind("click").die("click").live("click",function(a){a.preventDefault();var a=$(this),b=a.attr("id").substring(10);a.loadPopup({url:"/posts/popup/flag/"+b+(a.hasClass("show-invalid")?"?showInvalid=true":""),loaded:c,hideDescriptions:!0,
actionSelected:j,subformShow:p})})}}}();
(function(){function d(a,b){this.commentId=a;this.jComment=b;this.postUi=i(b)}function b(a){var a=a.constructor===$?a:$(a),a=a.hasClass("comment")?a:a.closest(".comment"),b=a.attr("id").replace(/^comment-/,"");return new d(b,a)}function a(a,b,d){/Android/.test(navigator.userAgent)&&$(b,a).bind("touchstart",function(a){a=$(a.target);if(!a.is(d))return!0;var c=a.data("events");if(c&&c.click&&c.click.length)return!0;a.click(function(){}).attr("data-nothing-to-see-here","X");return!0})}function g(c,d,
e){$(".comments",c).delegate(d,"click",function(){b(this)[e]()});a(c,".comments",d)}var h,f=StackExchange.comments,i=f.uiForPost;f.extendPostUi({ensureInput:function(){var a=this.jDiv.find('form[id^="add-comment-"]'),b=this;return a.children().length?(a.add(a.prev()).show(),a.find("textarea")):k(a,"Add Comment",!1,function(){b.submitNewComment()})},commentsShown:function(){try{var a=this.jDiv.find("form[id^='add-comment-'] textarea:focus");a.length&&StackExchange.comments.tabCompleter.init(a);this.jCommentsLink.data("comments-count",
0)}catch(b){}},submitNewComment:function(){var a=this.jDiv.find('form[id^="add-comment-"]'),b=a.find("textarea"),d=this,e=a.find('input[type="submit"]').parent();this.ajax({type:"POST",url:"/posts/"+this.postId+"/comments",dataType:"html",data:{comment:b.val(),fkey:StackExchange.options.user.fkey}},"during comment submission",e).done(function(e){d.showComments(e);b.val("").keyup().blur();StackExchange.helpers.enableSubmitButton(a);a.add(a.prev()).hide();d.jCommentsLink.show()}).fail(function(){StackExchange.helpers.enableSubmitButton(a)})},
checkDiscussion:function(){var a=this.jDiv.find("tr.is-comment-discussion"),b=this;if(a.length){a.remove();var d=this.jDiv.find(".comment-form");d.find(".discussion-info").length||($("<div style='margin:12px 0 3px; font-weight:bold' class='discussion-info'>Please avoid extended  discussions in comments. Would you like to <a href='#'>automatically move this discussion to chat?</a></div>").find("a").click(function(a){$(this).unbind("click");a.preventDefault();b.ajax({url:"/posts/"+b.postId+"/move-discussion-to-chat",
data:{fkey:StackExchange.options.user.fkey},type:"POST"},"when trying to move the discussion to chat",d).done(function(a){a.success?window.location.href=a.message:StackExchange.helpers.showErrorPopup(d,a.message)})}).end().prependTo(d),a.remove())}}});d.prototype={voteUp:function(){var a=this.jComment.find(".comment-up").addClass("comment-up-on").removeClass("comment-up"),b=this;this.submitVote(2).done(function(d){d.Success?(a.removeClass("comment-up-off").closest("tr").siblings("tr").remove(),b.renderScore(d.NewScore)):
a.removeClass("comment-up-on").addClass("comment-up")}).fail(function(){a.removeClass("comment-up-on").addClass("comment-up")})},"delete":function(){var a=this;confirm("Really delete this comment?")&&this.submitVote(10).done(function(){a.jComment.remove()})},flag:function(){var a=this;this.jComment.find(".comment-flag").loadPopup({url:"/posts/comments/popup/flag/"+this.commentId,loaded:function(b){var d=b.find("#comment-popup-other-text").charCounter({min:6,max:200,setIsValid:function(){g()}}),e=
b.find("#comment-popup-other").click(function(){g();d.focus()}),f=b.find(".text-counter"),g=function(){var a=0==b.find('input[name="comment-reason"]:checked').length;e.is(":checked")?(a=d.show().val().length,f.show(),a=6>a||200<a):(d.hide(),f.hide());b.find(".popup-submit").attr("disabled",a)};b.find("input").click(g);g();b.find("form").submit(function(){var f=(e.is(":checked")?d:b.find('input[name="comment-reason"]:checked')).val();b.fadeOutAndRemove();a.submitVote(4,f).done(function(b){b.Success&&
(-1===b.NewScore?a.jComment.remove():a.jComment.find(".comment-flag, .comment-up").fadeOutAndRemove())});return!1})}})},edit:function(){var a=this.jComment,b=a.find('form[id^="edit-comment-"]'),d=this;a.find(" > td > *").not(b).hide();a.find("td:last").addClass("comment-form");a=k(b,"Save Edits",!0,function(){d.submitEdit()});a.val(b.find("div").text());b.show();a.focus()},cancelEdit:function(){var a=this.jComment,b=a.find('form[id^="edit-comment-"]');b.children("table").remove();b.hide();a.find("td:last").removeClass("comment-form");
a.find(" > td > *").not(b).show()},submitEdit:function(){var a=this.jComment.find('form[id^="edit-comment-"]'),b=this;this.postUi.ajax({type:"POST",url:"/posts/comments/"+this.commentId+"/edit",dataType:"html",data:{comment:a.find("textarea").val(),fkey:StackExchange.options.user.fkey}},"during comment submission",a).done(function(a){b.postUi.showComments(a)}).fail(function(){StackExchange.helpers.enableSubmitButton(a)})},submitVote:function(a,b){var d=this.jComment.find(".comment-actions");return this.postUi.ajax({type:"POST",
url:"/posts/comments/{commentId}/vote/{voteTypeId}".format({commentId:this.commentId,voteTypeId:a}),dataType:"json",data:{fkey:StackExchange.options.user.fkey,text:b},success:function(a){!a.Success&&a.Message&&StackExchange.helpers.showErrorPopup(d,a.Message)}},"during voting",this.jComment.find(".comment-actions"),!0)},renderScore:function(a){var b="";a&&0<a&&(b+='<span title="number of \'great comment\' votes received" class="'+(5>a?"":15>=a?"warm":30>=a?"hot":"supernova")+'">'+a+"</span>");this.jComment.find(".comment-score").html(b)}};
var l=function(a){a.find("textarea").keyup(function(b){13==b.which&&!b.shiftKey&&!$(this).prev("#tabcomplete:visible").length&&a.submit()}).keypress(function(a){if(13==a.which&&!a.shiftKey)return!1})},k=function(a,d,e,f){d=a.hasClass("mobile-comment-form")?'<textarea name="comment" rows="2"></textarea><input type="submit" value="'+d+'"/>':'<table><tr><td><textarea name="comment" cols="68" rows="3"></textarea></td><td><input tabindex="0" type="submit" value="'+d+'"/>'+(e?'<a tabindex="0" class="edit-comment-cancel">cancel</a>':
"")+'<br/><a tabindex="0" class="comment-help-link">help</a></td></tr><tr><td colspan="2"><span class="text-counter"></span><span class="form-error"></span></td></tr></table>';a.append(d);e&&a.find(".edit-comment-cancel").click(function(){b(a).cancelEdit()});var g=!1,e=a.find("textarea");e.charCounter({min:15,max:600,setIsValid:function(a){g=a}}).focus(function(){StackExchange.comments.tabCompleter.init($(this))});a.find(".comment-help-link").click(m);if(h)e.one("focus",m);a.submit(function(){g?(StackExchange.helpers.disableSubmitButton(a),
f(a)):a.find("span.text-counter").animate({opacity:0},100,function(){$(this).animate({opacity:1},100)});return!1});StackExchange.options.desc||l(a);return e},m=function(a){var b=$(this).closest("tbody"),d=b.find(".comment-help-link"),e=$(".comment-help",b),f;if("click"==a.type)f=0==e.length||!e.is(":visible"),f||(m.manualOnly=!0);else{if(m.manualOnly)return;f=!0}var g=function(){d.text(f?"hide help":"help")};0<e.length?f?e.slideDown(g):e.slideUp(g):f&&(a=$("<tr />").appendTo(b),a=$("<td colspan='2' />").appendTo(a),
m.helpText?(a.html(m.helpText),$(".comment-help",a).slideDown(g)):(StackExchange.helpers.addSpinner(d),a.load("/posts/comment-help",function(a){m.helpText=a;StackExchange.helpers.removeSpinner();$(".comment-help",this).slideDown(g)})))},e=f.init;f.init=function(a){e(a);h=a&&a.autoShowCommentHelp;a=a&&a.post||document;g(a,".comment-up","voteUp");g(a,".comment-delete","delete");g(a,".comment-flag","flag");g(a,".comment-edit","edit");$("form.comment-form-expanded",a).each(function(){i(this).addShow(!0)})}})();
StackExchange.comments.tabCompleter=function(){function d(a){var b=$("#tabcomplete");b.empty();!(5<a.length)&&a.length&&$.each(a,function(a,d){var e=$("<li/>").text(d).appendTo(b);d.toLowerCase()==k.toLowerCase()&&e.addClass("chosen")})}function b(){var a=l.caret().start,b=l.val(),d=!1;if(/@[^\s!?();:+"].*@/.test(b)){if(!/`/.test(b))return null;d=!0}var f=b.substring(a).search(/[\s!?();:+"\[\]\\]/);-1==f&&(f=b.length-a);var g=b.substring(0,a+f).match(/@[^\s!?();:+"\[\]\\]+$/);if(!g)return null;var g=
g[0].substr(1),f=a+f,h=f-g.length;return d&&/@[^\s!?();:+"]/.test(b.substr(0,h-1))?null:{start:h,pos:a,end:f,name:g}}function a(a){var c=b();if(c.name===a)l.is(":focus")||l.focus();else{var d=l.val();l.val(d.substring(0,c.start)+a+d.substring(c.end));a=c.start+a.length;l.caret(a,a)}}function g(b){var c;if(9==b.which){c=$("#tabcomplete li");if(!c.length)return;var d=c.filter(".chosen").removeClass("chosen"),d=b.shiftKey?d.prev():d.next();d.length||(d=b.shiftKey?c.last():c.first());c=d.addClass("chosen").text()}else if(27==
b.which){c=$("#tabcomplete li");if(!c.length)return;c=k;k=null}else return;b.preventDefault();a(c)}function h(a){if(a.which)switch(a.which){case 9:case 16:case 17:case 18:case 220:return}var c=b();if(c){if(k!=c.name){a=[];k=c.name;for(var c=RegExp("^"+StackExchange.helpers.noDiacritics(c.name.replace(/ /g,"").toLowerCase()).replace(/\./g,"\\."),"i"),f=i.length,g=0;g<f;g++){var h=i[g].name;StackExchange.helpers.noDiacritics(h.replace(/ /g,"").toLowerCase()).match(c)&&a.push(h.replace(/ /g,""))}d(a)}}else k=
null,d([])}function f(a){return!a?null:parseInt(a.replace(/^\/users\/(\d+)\/.*$/,"$1"),10)||null}var i,l,k=null;$("#tabcomplete > li").live("click",function(){$(this).parent().find("li.chosen").removeClass("chosen");a($(this).addClass("chosen").text())});var m=f($("#hlinks a.profile-link").attr("href"));return{init:function(a){if(!StackExchange.options.isMobile){var b=a.closest("div.comments"),d=b.closest(".question, .answer").find(".post-signature:last .user-details a[href^='/users/']"),d=f(d.attr("href")),
n=[];b.find("a.comment-user").each(function(a,b){var c=b.firstChild;if(3!==c.nodeType)StackExchange.debug.log("unexpected structure in comment owner link");else{var c=c.nodeValue,d=f($(b).attr("href"));d!==m&&n.push({id:d,name:c})}});i=[];for(var b={},p=n.length-1;0<=p;p--){var r=n[p];b[r.id]||(i.push(r),b[r.id]=!0)}$("#tabcomplete").remove();l&&l.unbind($.browser.opera?"keypress":"keydown",g).unbind("keyup click",h);0===i.length||1===i.length&&i[0].id===d?l=null:(l=a,k=null,$("<ul id='tabcomplete' />").insertBefore(a),
a.bind("keydown",g).bind("keyup click",h))}}}}();
StackExchange.inlineEditing={init:function(){function d(b,a,d,h){a.fadeIn(d,h);b.hide()}$(".post-menu .edit-post").live("click",function(b){if(!b.ctrlKey&&!b.altKey&&!b.metaKey&&!b.shiftKey){var b=$(this),a=b.closest(".question, .answer");a.find("#edit-tags-cancel").length&&StackExchange.inlineTagEditing.restoreCurrentTags(!0);$("#show-editor-button").hide();b.addSpinner();var g=a.hasClass("answer"),h=a.find(".postcell,.answercell"),f=h.find("> *"),i=$('<div class="inline-editor"/>').hide().appendTo(h);
i.load(b.attr("href")+"-inline",function(b,k){var m;i.find("[tabindex]").each(function(){$(this).attr("tabindex",parseInt($(this).attr("tabindex")-20))});StackExchange.helpers.removeSpinner();a.offset().top<$(window).scrollTop()&&$("html, body").animate({scrollTop:$(a).offset().top-55},200);if("error"==k)StackExchange.helpers.showErrorPopup(h,"The post could not be loaded"),i.remove();else{d(f,i,300);var e=function(b){if(StackExchange.navPrevention){if(!StackExchange.navPrevention.confirm("You have started editing this post. Abandon this edit?"))return!1;
StackExchange.navPrevention.stop()}$("#show-editor-button").show();d(i,b,300,function(){i.remove()});b.offset().top<$(window).scrollTop()&&$("html, body").animate({scrollTop:$(a).offset().top-55},200);return!1},c=function(){q.unbind("keyup",j);u.trigger(m)},j=function(){u.trigger(q[0].value);return!0};i.find(".cancel-edit").click(function(){c();e(f)});var n=StackExchange.helpers.DelayedReaction(function(a){$.ajax({type:"POST",data:{hide:a},url:"/user/save-pref/hide-preview-for-inline-editing"})},
1E3,{sliding:!0}),p=i.find(".hide-preview");p.click(function(){var a=i.find(".wmd-preview"),b=a.is(":visible");b?(a.slideUp(),p.text("show preview")):(a.slideDown(),p.text("hide preview"));n.trigger(b);return!1});var r=i.find('input[type="submit"]');r.attr("id").replace("submit-button","");var s=i.find("form"),q=i.find("#title"),t=$("#question-header a");m=q.val();var u=StackExchange.helpers.DelayedReaction(function(a){t.text(a);"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,
t[0]])},{sliding:!0});q.keyup(j);i.find("#title,.wmd-input,#tagnames,.edit-comment").keydown(function(a){if(!0===a.ctrlKey&&13==a.keyCode)return s.submit(),!1;if(27==a.keyCode)return c(),e(f),!1});s.submit(function(){var a=$(this).serialize();a.fkey=StackExchange.options.user.fkey;StackExchange.navPrevention&&StackExchange.navPrevention.stop();r.parent().addSpinner();$.ajax({type:"POST",dataType:"json",data:a,url:s[0].action,success:function(a){if(a.success){var b=$(a.html).hide();h.replaceWith(b);
g||$("#question-header a").text(a.title);$("html").trigger("inline-edit-complete",[b,a.title]);styleCode();e(b)}else a.redirect?window.location=a.redirect:StackExchange.helpers.showErrorPopup(r.parent(),a.message)},error:function(){StackExchange.helpers.showErrorPopup(r.parent(),"An error occurred saving the edit")},complete:StackExchange.helpers.removeSpinner});return!1})}});return!1}})}};
StackExchange.examples=function(){var d,b=function(a){var b=$("#example-sidebar-"+a);$(".module:not(#example-sidebar-"+a+")").addClass("dno");b.removeClass("dno")},a=function(){$("#snippet-edit .accordion-content").css({opacity:1});$("#snippet-select .accordion-content").hide("fast");$("#add-example-submit").removeAttr("disabled");b(2)},g=function(d){$("#base-answer-id").val(d);d=$(".markdown-"+d).text();$("#wmd-input").val(d);$("#title").focus();StackExchange.MarkdownEditor.refreshAllPreviews();
a();var g=function(){$("#snippet-edit .accordion-content").css({opacity:0});$("#snippet-select .accordion-content").show("slow");$("#cancel, #snippet-select .accordion-header").unbind("click",g).css({cursor:""});b(1);return!1};$("#cancel, #snippet-select .accordion-header").click(g).css({cursor:"pointer"})},h=function(){$(".take-answer").click(function(){var a=$(this).attr("data-aid");g(a)})};return{initWizard:function(a){d=a;var g=!1,l=$("#question-autocomplete"),k={},m=function(){var b=(new Date-
0)/1E3,d=$.trim(l.val());4>d.length?$("#question-autocomplete-holder").html("<h2>query too short</h2>"):1>b||g?setTimeout(function(){$.trim(l.val())==d&&m()},1E3):(StackExchange.helpers.addSpinner("#question-autocomplete-holder"),b=function(a){k[d]=a;$("#question-autocomplete-holder").html($(a));h()},k[d]?b(k[d],null,null):(g=!0,$.ajax({url:"/examples/question-autocomplete/"+(a||-1),data:{q:d},success:b,complete:function(){g=!1},dataType:"html"})))};l.keyup(m);var e=$("#question-autocomplete");StackExchange.helpers.bindHelpOverlayEvents(e);
b(1);moveScroller()},showPostEntry:a,doneLoading:function(){$("#question-autocomplete").focus();d&&$(function(){g(d)})}}}();
StackExchange.vote_bounty=function(){var d,b=function(a,b,g){b=$(".bounty-vote");if(g.Success){$(".bounty-notification").remove();d=!1;var h=a.closest("td.votecell").parent().find("span.reputation-score:last");g.Message&&(g=$(g.Message),h.text(g.text()).attr("title",g.attr("title")));g=a.closest("div.vote").find(".bounty-award-container");1<g.length?(g=g.filter(":first").find(".bounty-award"),h=parseInt(g.text(),10),a=parseInt(a.text(),10),g.text("+"+(h+a)),b.remove()):(a.unbind("mouseenter mouseleave").removeClass("bounty-vote bounty-vote-off"),
b.not(a).remove())}else StackExchange.helpers.showErrorPopup(a.parent(),g.Message),b.removeClass("disabled")},a=function(){$(".bounty-vote").hover(function(){$(this).removeClass("bounty-vote-off")},function(){$(this).addClass("bounty-vote-off")});$(".bounty-vote:not(.disabled)").live("click",function(){var a=$(this),g=StackExchange.vote.getPostId(a);if(d?confirm("Are you sure you want to award your bounty to this answer? THIS CANNOT BE UNDONE!"):1)$(".bounty-vote").addClass("disabled"),StackExchange.vote.submit(a,
g,StackExchange.vote.voteTypeIds.bountyClose,b)})},g=function(a){a.addSpinnerAfter({padding:"0 3px"});var b=$(a).closest(".question").find("div.vote input").val();$.ajax({type:"GET",url:"/posts/bounty/"+b,dataType:"html",success:function(b){var d=$(b);d.appendTo(a.parent());d.find(".popup-close").click(function(){d.fadeOutAndRemove()});d.center().fadeIn("fast")},error:function(){a.parent().showErrorPopup("Unable to load popup - please try again")},complete:StackExchange.helpers.removeSpinner})},h=
function(){var a=$(".bounty-link");a.click(function(){g(a)})};return{init:function(b){d=!!b.hasOpenBounty;b.canOpenBounty&&h();b.hasOpenBounty&&a()}}}();
